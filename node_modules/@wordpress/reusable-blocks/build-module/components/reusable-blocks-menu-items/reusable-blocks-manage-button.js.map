{"version":3,"sources":["@wordpress/reusable-blocks/src/components/reusable-blocks-menu-items/reusable-blocks-manage-button.js"],"names":["MenuItem","__","isReusableBlock","useSelect","BlockSettingsMenuControls","addQueryArgs","ReusableBlocksManageButton","clientId","select","getBlock","canUser","reusableBlock","isVisible","attributes","ref","post_type"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,QAAT,QAAyB,uBAAzB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,yBAAT,QAA0C,yBAA1C;AACA,SAASC,YAAT,QAA6B,gBAA7B;;AAEA,SAASC,0BAAT,OAAoD;AAAA,MAAbC,QAAa,QAAbA,QAAa;;AAAA,mBAC7BJ,SAAS,CAC9B,UAAEK,MAAF,EAAc;AAAA,kBACQA,MAAM,CAAE,mBAAF,CADd;AAAA,QACLC,QADK,WACLA,QADK;;AAAA,mBAEOD,MAAM,CAAE,MAAF,CAFb;AAAA,QAELE,OAFK,YAELA,OAFK;;AAGb,QAAMC,aAAa,GAAGF,QAAQ,CAAEF,QAAF,CAA9B;AAEA,WAAO;AACNK,MAAAA,SAAS,EACR,CAAC,CAAED,aAAH,IACAT,eAAe,CAAES,aAAF,CADf,IAEA,CAAC,CAAED,OAAO,CACT,QADS,EAET,QAFS,EAGTC,aAAa,CAACE,UAAd,CAAyBC,GAHhB;AAJL,KAAP;AAUA,GAhB6B,EAiB9B,CAAEP,QAAF,CAjB8B,CADoB;AAAA,MAC3CK,SAD2C,cAC3CA,SAD2C;;AAqBnD,MAAK,CAAEA,SAAP,EAAmB;AAClB,WAAO,IAAP;AACA;;AAED,SACC,cAAC,yBAAD,QACC,cAAC,QAAD;AACC,IAAA,IAAI,EAAGP,YAAY,CAAE,UAAF,EAAc;AAAEU,MAAAA,SAAS,EAAE;AAAb,KAAd;AADpB,KAGGd,EAAE,CAAE,wBAAF,CAHL,CADD,CADD;AASA;;AAED,eAAeK,0BAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { isReusableBlock } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { BlockSettingsMenuControls } from '@wordpress/block-editor';\nimport { addQueryArgs } from '@wordpress/url';\n\nfunction ReusableBlocksManageButton( { clientId } ) {\n\tconst { isVisible } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock } = select( 'core/block-editor' );\n\t\t\tconst { canUser } = select( 'core' );\n\t\t\tconst reusableBlock = getBlock( clientId );\n\n\t\t\treturn {\n\t\t\t\tisVisible:\n\t\t\t\t\t!! reusableBlock &&\n\t\t\t\t\tisReusableBlock( reusableBlock ) &&\n\t\t\t\t\t!! canUser(\n\t\t\t\t\t\t'update',\n\t\t\t\t\t\t'blocks',\n\t\t\t\t\t\treusableBlock.attributes.ref\n\t\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t<MenuItem\n\t\t\t\thref={ addQueryArgs( 'edit.php', { post_type: 'wp_block' } ) }\n\t\t\t>\n\t\t\t\t{ __( 'Manage Reusable blocks' ) }\n\t\t\t</MenuItem>\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n\nexport default ReusableBlocksManageButton;\n"]}