{"version":3,"sources":["@wordpress/block-editor/src/hooks/padding.js"],"names":["SPACING_SUPPORT_KEY","hasPaddingSupport","blockName","spacingSupport","padding","PaddingEdit","props","name","style","attributes","setAttributes","customUnits","units","map","unit","value","label","onChange","next","newStyle","spacing","onChangeShowVisualizer","visualizers","Platform","select","web","native"],"mappings":";;;;;;;;;;AAIA;;;;AADA;;AAEA;;AACA;;AAKA;;AACA;;;;;;AAEO,IAAMA,mBAAmB,GAAG,SAA5B;;;AAEP,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,SAAF,EAAiB;AAC1C,MAAMC,cAAc,GAAG,6BAAiBD,SAAjB,EAA4BF,mBAA5B,CAAvB;AACA,SAAOG,cAAc,IAAIA,cAAc,CAACC,OAAf,KAA2B,KAApD;AACA,CAHD;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACO,SAASC,WAAT,CAAsBC,KAAtB,EAA8B;AAAA;;AAAA,MAE7BJ,SAF6B,GAKhCI,KALgC,CAEnCC,IAFmC;AAAA,MAGrBC,KAHqB,GAKhCF,KALgC,CAGnCG,UAHmC,CAGrBD,KAHqB;AAAA,MAInCE,aAJmC,GAKhCJ,KALgC,CAInCI,aAJmC;AAOpC,MAAMC,WAAW,GAAG,+BAAkB,eAAlB,CAApB;AACA,MAAMC,KAAK,GAAGD,WAAH,aAAGA,WAAH,uBAAGA,WAAW,CAAEE,GAAb,CAAkB,UAAEC,IAAF;AAAA,WAAc;AAC7CC,MAAAA,KAAK,EAAED,IADsC;AAE7CE,MAAAA,KAAK,EAAEF;AAFsC,KAAd;AAAA,GAAlB,CAAd;;AAKA,MAAK,CAAEb,iBAAiB,CAAEC,SAAF,CAAxB,EAAwC;AACvC,WAAO,IAAP;AACA;;AAED,MAAMe,QAAQ,GAAG,SAAXA,QAAW,CAAEC,IAAF,EAAY;AAC5B,QAAMC,QAAQ,mCACVX,KADU;AAEbY,MAAAA,OAAO,EAAE;AACRhB,QAAAA,OAAO,EAAEc;AADD;AAFI,MAAd;;AAOAR,IAAAA,aAAa,CAAE;AACdF,MAAAA,KAAK,EAAE,6BAAkBW,QAAlB;AADO,KAAF,CAAb;AAGA,GAXD;;AAaA,MAAME,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAEH,IAAF,EAAY;AAC1C,QAAMC,QAAQ,mCACVX,KADU;AAEbc,MAAAA,WAAW,EAAE;AACZlB,QAAAA,OAAO,EAAEc;AADG;AAFA,MAAd;;AAOAR,IAAAA,aAAa,CAAE;AACdF,MAAAA,KAAK,EAAE,6BAAkBW,QAAlB;AADO,KAAF,CAAb;AAGA,GAXD;;AAaA,SAAOI,kBAASC,MAAT,CAAiB;AACvBC,IAAAA,GAAG,EACF,qDACC,4BAAC,oCAAD;AACC,MAAA,MAAM,EAAGjB,KAAH,aAAGA,KAAH,yCAAGA,KAAK,CAAEY,OAAV,mDAAG,eAAgBhB,OAD1B;AAEC,MAAA,QAAQ,EAAGa,QAFZ;AAGC,MAAA,sBAAsB,EAAGI,sBAH1B;AAIC,MAAA,KAAK,EAAG,cAAI,SAAJ,CAJT;AAKC,MAAA,KAAK,EAAGT;AALT,MADD,CAFsB;AAYvBc,IAAAA,MAAM,EAAE;AAZe,GAAjB,CAAP;AAcA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Platform } from '@wordpress/element';\nimport { getBlockSupport } from '@wordpress/blocks';\nimport { __experimentalBoxControl as BoxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { cleanEmptyObject } from './utils';\nimport useEditorFeature from '../components/use-editor-feature';\n\nexport const SPACING_SUPPORT_KEY = 'spacing';\n\nconst hasPaddingSupport = ( blockName ) => {\n\tconst spacingSupport = getBlockSupport( blockName, SPACING_SUPPORT_KEY );\n\treturn spacingSupport && spacingSupport.padding !== false;\n};\n\n/**\n * Inspector control panel containing the line height related configuration\n *\n * @param {Object} props\n *\n * @return {WPElement} Line height edit element.\n */\nexport function PaddingEdit( props ) {\n\tconst {\n\t\tname: blockName,\n\t\tattributes: { style },\n\t\tsetAttributes,\n\t} = props;\n\n\tconst customUnits = useEditorFeature( 'spacing.units' );\n\tconst units = customUnits?.map( ( unit ) => ( {\n\t\tvalue: unit,\n\t\tlabel: unit,\n\t} ) );\n\n\tif ( ! hasPaddingSupport( blockName ) ) {\n\t\treturn null;\n\t}\n\n\tconst onChange = ( next ) => {\n\t\tconst newStyle = {\n\t\t\t...style,\n\t\t\tspacing: {\n\t\t\t\tpadding: next,\n\t\t\t},\n\t\t};\n\n\t\tsetAttributes( {\n\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t} );\n\t};\n\n\tconst onChangeShowVisualizer = ( next ) => {\n\t\tconst newStyle = {\n\t\t\t...style,\n\t\t\tvisualizers: {\n\t\t\t\tpadding: next,\n\t\t\t},\n\t\t};\n\n\t\tsetAttributes( {\n\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t} );\n\t};\n\n\treturn Platform.select( {\n\t\tweb: (\n\t\t\t<>\n\t\t\t\t<BoxControl\n\t\t\t\t\tvalues={ style?.spacing?.padding }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tonChangeShowVisualizer={ onChangeShowVisualizer }\n\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\tunits={ units }\n\t\t\t\t/>\n\t\t\t</>\n\t\t),\n\t\tnative: null,\n\t} );\n}\n"]}