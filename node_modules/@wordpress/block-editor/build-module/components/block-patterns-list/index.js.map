{"version":3,"sources":["@wordpress/block-editor/src/components/block-patterns-list/index.js"],"names":["useMemo","parse","ENTER","SPACE","VisuallyHidden","useInstanceId","BlockPreview","InserterDraggableBlocks","BlockPattern","isDraggable","pattern","onClick","content","viewportWidth","blocks","instanceId","descriptionId","draggable","onDragStart","onDragEnd","event","keyCode","title","description","undefined","BlockPatternPlaceholder","BlockPatternList","blockPatterns","shownPatterns","onClickPattern","map","isShown","includes","name"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { parse } from '@wordpress/blocks';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\nimport { VisuallyHidden } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nfunction BlockPattern( { isDraggable, pattern, onClick } ) {\n\tconst { content, viewportWidth } = pattern;\n\tconst blocks = useMemo( () => parse( content ), [ content ] );\n\tconst instanceId = useInstanceId( BlockPattern );\n\tconst descriptionId = `block-editor-block-patterns-list__item-description-${ instanceId }`;\n\n\treturn (\n\t\t<InserterDraggableBlocks isEnabled={ isDraggable } blocks={ blocks }>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-block-patterns-list__item\"\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tonClick={ () => onClick( pattern, blocks ) }\n\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tENTER === event.keyCode ||\n\t\t\t\t\t\t\tSPACE === event.keyCode\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tonClick( pattern, blocks );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\ttabIndex={ 0 }\n\t\t\t\t\taria-label={ pattern.title }\n\t\t\t\t\taria-describedby={\n\t\t\t\t\t\tpattern.description ? descriptionId : undefined\n\t\t\t\t\t}\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t\tonDragEnd={ onDragEnd }\n\t\t\t\t>\n\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"block-editor-block-patterns-list__item-title\">\n\t\t\t\t\t\t{ pattern.title }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ !! pattern.description && (\n\t\t\t\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t\t\t\t{ pattern.description }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nfunction BlockPatternPlaceholder() {\n\treturn (\n\t\t<div className=\"block-editor-block-patterns-list__item is-placeholder\" />\n\t);\n}\n\nfunction BlockPatternList( {\n\tisDraggable,\n\tblockPatterns,\n\tshownPatterns,\n\tonClickPattern,\n} ) {\n\treturn blockPatterns.map( ( pattern ) => {\n\t\tconst isShown = shownPatterns.includes( pattern );\n\t\treturn isShown ? (\n\t\t\t<BlockPattern\n\t\t\t\tkey={ pattern.name }\n\t\t\t\tpattern={ pattern }\n\t\t\t\tonClick={ onClickPattern }\n\t\t\t\tisDraggable={ isDraggable }\n\t\t\t/>\n\t\t) : (\n\t\t\t<BlockPatternPlaceholder key={ pattern.name } />\n\t\t);\n\t} );\n}\n\nexport default BlockPatternList;\n"]}