{"version":3,"sources":["@wordpress/block-editor/src/components/multi-select-scroll-into-view/index.js"],"names":["scrollIntoView","useEffect","useRef","useSelect","getScrollContainer","getBlockDOMNode","useScrollMultiSelectionIntoView","ref","selectionEnd","select","getBlockSelectionEnd","hasMultiSelection","isMultiSelecting","blockSelectionEnd","ownerDocument","current","extentNode","scrollContainer","onlyScrollIfNeeded","MultiSelectScrollIntoView"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,cAAP,MAA2B,sBAA3B;AAEA;AACA;AACA;;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,oBAAlC;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,kBAAT,QAAmC,gBAAnC;AAEA;AACA;AACA;;AACA,SAASC,eAAT,QAAgC,iBAAhC;AAEA,OAAO,SAASC,+BAAT,CAA0CC,GAA1C,EAAgD;AACtD,MAAMC,YAAY,GAAGL,SAAS,CAAE,UAAEM,MAAF,EAAc;AAAA,kBAKzCA,MAAM,CAAE,mBAAF,CALmC;AAAA,QAE5CC,oBAF4C,WAE5CA,oBAF4C;AAAA,QAG5CC,iBAH4C,WAG5CA,iBAH4C;AAAA,QAI5CC,gBAJ4C,WAI5CA,gBAJ4C;;AAO7C,QAAMC,iBAAiB,GAAGH,oBAAoB,EAA9C;;AAEA,QACC,CAAEG,iBAAF,IACAD,gBAAgB,EADhB,IAEA,CAAED,iBAAiB,EAHpB,EAIE;AACD;AACA;;AAED,WAAOE,iBAAP;AACA,GAlB6B,EAkB3B,EAlB2B,CAA9B;AAoBAZ,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAK,CAAEO,YAAP,EAAsB;AACrB;AACA;;AAHe,QAKRM,aALQ,GAKUP,GAAG,CAACQ,OALd,CAKRD,aALQ;AAMhB,QAAME,UAAU,GAAGX,eAAe,CAAEG,YAAF,EAAgBM,aAAhB,CAAlC;;AAEA,QAAK,CAAEE,UAAP,EAAoB;AACnB;AACA;;AAED,QAAMC,eAAe,GAAGb,kBAAkB,CAAEY,UAAF,CAA1C,CAZgB,CAchB;AACA;;AACA,QAAK,CAAEC,eAAP,EAAyB;AACxB;AACA;;AAEDjB,IAAAA,cAAc,CAAEgB,UAAF,EAAcC,eAAd,EAA+B;AAC5CC,MAAAA,kBAAkB,EAAE;AADwB,KAA/B,CAAd;AAGA,GAvBQ,EAuBN,CAAEV,YAAF,CAvBM,CAAT;AAwBA;AAED;AACA;AACA;AACA;;AACA,eAAe,SAASW,yBAAT,GAAqC;AACnD,MAAMZ,GAAG,GAAGL,MAAM,EAAlB;AACAI,EAAAA,+BAA+B,CAAEC,GAAF,CAA/B;AACA,SAAO;AAAK,IAAA,GAAG,EAAGA;AAAX,IAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\nexport function useScrollMultiSelectionIntoView( ref ) {\n\tconst selectionEnd = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockSelectionEnd,\n\t\t\thasMultiSelection,\n\t\t\tisMultiSelecting,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst blockSelectionEnd = getBlockSelectionEnd();\n\n\t\tif (\n\t\t\t! blockSelectionEnd ||\n\t\t\tisMultiSelecting() ||\n\t\t\t! hasMultiSelection()\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn blockSelectionEnd;\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( ! selectionEnd ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { ownerDocument } = ref.current;\n\t\tconst extentNode = getBlockDOMNode( selectionEnd, ownerDocument );\n\n\t\tif ( ! extentNode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( extentNode );\n\n\t\t// If there's no scroll container, it follows that there's no scrollbar\n\t\t// and thus there's no need to try to scroll into view.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscrollIntoView( extentNode, scrollContainer, {\n\t\t\tonlyScrollIfNeeded: true,\n\t\t} );\n\t}, [ selectionEnd ] );\n}\n\n/**\n * Scrolls the multi block selection end into view if not in view already. This\n * is important to do after selection by keyboard.\n */\nexport default function MultiSelectScrollIntoView() {\n\tconst ref = useRef();\n\tuseScrollMultiSelectionIntoView( ref );\n\treturn <div ref={ ref } />;\n}\n"]}