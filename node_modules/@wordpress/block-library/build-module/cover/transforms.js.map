{"version":3,"sources":["@wordpress/block-library/src/cover/transforms.js"],"names":["createBlock","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","transforms","from","type","blocks","transform","caption","url","align","id","anchor","content","fontSize","src","backgroundType","to","isMatch","overlayColor","customOverlayColor","gradient","customGradient","title"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { IMAGE_BACKGROUND_TYPE, VIDEO_BACKGROUND_TYPE } from './shared';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\ttransform: ( { caption, url, align, id, anchor } ) =>\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\t{\n\t\t\t\t\t\turl,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tanchor,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: caption,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\ttransform: ( { caption, src, align, id, anchor } ) =>\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\t{\n\t\t\t\t\t\turl: src,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tbackgroundType: VIDEO_BACKGROUND_TYPE,\n\t\t\t\t\t\tanchor,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: caption,\n\t\t\t\t\t\t\tfontSize: 'large',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\tisMatch: ( {\n\t\t\t\tbackgroundType,\n\t\t\t\turl,\n\t\t\t\toverlayColor,\n\t\t\t\tcustomOverlayColor,\n\t\t\t\tgradient,\n\t\t\t\tcustomGradient,\n\t\t\t} ) => {\n\t\t\t\tif ( url ) {\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents an image background.\n\t\t\t\t\treturn backgroundType === IMAGE_BACKGROUND_TYPE;\n\t\t\t\t}\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\n\t\t\t\treturn (\n\t\t\t\t\t! overlayColor &&\n\t\t\t\t\t! customOverlayColor &&\n\t\t\t\t\t! gradient &&\n\t\t\t\t\t! customGradient\n\t\t\t\t);\n\t\t\t},\n\t\t\ttransform: ( { title, url, align, id, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\tcaption: title,\n\t\t\t\t\turl,\n\t\t\t\t\talign,\n\t\t\t\t\tid,\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/video' ],\n\t\t\tisMatch: ( {\n\t\t\t\tbackgroundType,\n\t\t\t\turl,\n\t\t\t\toverlayColor,\n\t\t\t\tcustomOverlayColor,\n\t\t\t\tgradient,\n\t\t\t\tcustomGradient,\n\t\t\t} ) => {\n\t\t\t\tif ( url ) {\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents a video background.\n\t\t\t\t\treturn backgroundType === VIDEO_BACKGROUND_TYPE;\n\t\t\t\t}\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\n\t\t\t\treturn (\n\t\t\t\t\t! overlayColor &&\n\t\t\t\t\t! customOverlayColor &&\n\t\t\t\t\t! gradient &&\n\t\t\t\t\t! customGradient\n\t\t\t\t);\n\t\t\t},\n\t\t\ttransform: ( { title, url, align, id, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/video', {\n\t\t\t\t\tcaption: title,\n\t\t\t\t\tsrc: url,\n\t\t\t\t\tid,\n\t\t\t\t\talign,\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}