{"version":3,"sources":["@wordpress/block-library/src/block/edit.native.js"],"names":["ActivityIndicator","Platform","Text","TouchableWithoutFeedback","View","useEffect","useRef","useState","useEntityBlockEditor","BottomSheet","Icon","Disabled","useSelect","useDispatch","__","BlockEditorProvider","BlockList","usePreferredColorSchemeStyle","help","requestUnsupportedBlockFallback","sendActionButtonPressedAction","actionButtons","store","reusableBlocksStore","applyFilters","styles","EditTitle","ReusableBlockEdit","ref","attributes","clientId","isSelected","recordArgs","showHelp","setShowHelp","sendFallbackMessage","setSendFallbackMessage","sendButtonPressMessage","setSendButtonPressMessage","timeoutId","infoTextStyle","infoText","infoTextDark","infoTitleStyle","infoTitle","infoTitleDark","infoSheetIconStyle","infoSheetIcon","infoSheetIconDark","actionButtonStyle","actionButton","actionButtonDark","spinnerStyle","spinner","spinnerDark","select","getSettings","reusableBlock","getEditedEntityRecord","hasResolved","hasFinishedResolution","isSaving","isSavingEntityRecord","canUserUpdate","canUser","isEditing","__experimentalIsEditingReusableBlock","settings","isUnsupportedBlockEditorSupported","unsupportedBlockEditor","canEnableUnsupportedBlockEditor","invalidateResolution","id","blocks","onInput","onChange","clearTimeout","current","openSheet","closeSheet","requestFallback","renderSheet","OS","reusableBlockActionButton","setTimeout","name","title","missingBlockAlertActionButton","infoContainer","color","size","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tActivityIndicator,\n\tPlatform,\n\tText,\n\tTouchableWithoutFeedback,\n\tView,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { useEntityBlockEditor } from '@wordpress/core-data';\nimport { BottomSheet, Icon, Disabled } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEditorProvider, BlockList } from '@wordpress/block-editor';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { help } from '@wordpress/icons';\nimport {\n\trequestUnsupportedBlockFallback,\n\tsendActionButtonPressedAction,\n\tactionButtons,\n} from '@wordpress/react-native-bridge';\nimport { store as reusableBlocksStore } from '@wordpress/reusable-blocks';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport styles from './editor.scss';\nimport EditTitle from './edit-title';\n\nexport default function ReusableBlockEdit( {\n\tattributes: { ref },\n\tclientId,\n\tisSelected,\n} ) {\n\tconst recordArgs = [ 'postType', 'wp_block', ref ];\n\n\tconst [ showHelp, setShowHelp ] = useState( false );\n\tconst [ sendFallbackMessage, setSendFallbackMessage ] = useState( false );\n\tconst [ sendButtonPressMessage, setSendButtonPressMessage ] = useState(\n\t\tfalse\n\t);\n\tconst timeoutId = useRef();\n\tconst infoTextStyle = usePreferredColorSchemeStyle(\n\t\tstyles.infoText,\n\t\tstyles.infoTextDark\n\t);\n\tconst infoTitleStyle = usePreferredColorSchemeStyle(\n\t\tstyles.infoTitle,\n\t\tstyles.infoTitleDark\n\t);\n\tconst infoSheetIconStyle = usePreferredColorSchemeStyle(\n\t\tstyles.infoSheetIcon,\n\t\tstyles.infoSheetIconDark\n\t);\n\tconst actionButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles.actionButton,\n\t\tstyles.actionButtonDark\n\t);\n\tconst spinnerStyle = usePreferredColorSchemeStyle(\n\t\tstyles.spinner,\n\t\tstyles.spinnerDark\n\t);\n\n\tconst {\n\t\treusableBlock,\n\t\thasResolved,\n\t\tisEditing,\n\t\tsettings,\n\t\tisUnsupportedBlockEditorSupported,\n\t\tcanEnableUnsupportedBlockEditor,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings } = select( 'core/block-editor' );\n\n\t\t\treturn {\n\t\t\t\treusableBlock: select( 'core' ).getEditedEntityRecord(\n\t\t\t\t\t...recordArgs\n\t\t\t\t),\n\t\t\t\thasResolved: select( 'core' ).hasFinishedResolution(\n\t\t\t\t\t'getEditedEntityRecord',\n\t\t\t\t\trecordArgs\n\t\t\t\t),\n\t\t\t\tisSaving: select( 'core' ).isSavingEntityRecord(\n\t\t\t\t\t...recordArgs\n\t\t\t\t),\n\t\t\t\tcanUserUpdate: select( 'core' ).canUser(\n\t\t\t\t\t'update',\n\t\t\t\t\t'blocks',\n\t\t\t\t\tref\n\t\t\t\t),\n\t\t\t\tisEditing: select(\n\t\t\t\t\treusableBlocksStore\n\t\t\t\t).__experimentalIsEditingReusableBlock( clientId ),\n\t\t\t\tsettings: getSettings(),\n\t\t\t\tisUnsupportedBlockEditorSupported:\n\t\t\t\t\tgetSettings( 'capabilities' ).unsupportedBlockEditor ===\n\t\t\t\t\ttrue,\n\t\t\t\tcanEnableUnsupportedBlockEditor:\n\t\t\t\t\tgetSettings( 'capabilities' )\n\t\t\t\t\t\t.canEnableUnsupportedBlockEditor === true,\n\t\t\t};\n\t\t},\n\t\t[ ref, clientId ]\n\t);\n\n\tconst { invalidateResolution } = useDispatch( 'core' );\n\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\t'wp_block',\n\t\t{ id: ref }\n\t);\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tclearTimeout( timeoutId.current );\n\t\t\t/**\n\t\t\t * Invalidate entity record upon unmount to keep the reusable block updated\n\t\t\t * in case it's modified through UBE\n\t\t\t */\n\t\t\tinvalidateResolution( 'getEntityRecord', recordArgs );\n\t\t};\n\t}, [] );\n\n\tfunction openSheet() {\n\t\tsetShowHelp( true );\n\t}\n\n\tfunction closeSheet() {\n\t\tsetShowHelp( false );\n\t}\n\n\tfunction requestFallback() {\n\t\tcloseSheet();\n\n\t\tif (\n\t\t\tcanEnableUnsupportedBlockEditor &&\n\t\t\t! isUnsupportedBlockEditorSupported\n\t\t) {\n\t\t\tsetSendButtonPressMessage( true );\n\t\t} else {\n\t\t\tsetSendFallbackMessage( true );\n\t\t}\n\t}\n\n\tfunction renderSheet() {\n\t\tconst infoTitle =\n\t\t\tPlatform.OS === 'android'\n\t\t\t\t? __(\n\t\t\t\t\t\t\"Reusable blocks aren't editable on WordPress for Android\"\n\t\t\t\t  )\n\t\t\t\t: __( \"Reusable blocks aren't editable on WordPress for iOS\" );\n\t\tconst reusableBlockActionButton = applyFilters(\n\t\t\t'native.reusable_block_action_button',\n\t\t\t__( 'Edit using web editor' )\n\t\t);\n\n\t\treturn (\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ showHelp }\n\t\t\t\thideHeader\n\t\t\t\tonClose={ closeSheet }\n\t\t\t\tonModalHide={ () => {\n\t\t\t\t\tif ( sendFallbackMessage ) {\n\t\t\t\t\t\t// On iOS, onModalHide is called when the controller is still part of the hierarchy.\n\t\t\t\t\t\t// A small delay will ensure that the controller has already been removed.\n\t\t\t\t\t\ttimeoutId.current = setTimeout( () => {\n\t\t\t\t\t\t\trequestUnsupportedBlockFallback(\n\t\t\t\t\t\t\t\t`<!-- wp:block {\"ref\":${ reusableBlock.id }} /-->`,\n\t\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\t\treusableBlock.name,\n\t\t\t\t\t\t\t\treusableBlock.title\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tinvalidateResolution(\n\t\t\t\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\t\t\t\trecordArgs\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t\tsetSendFallbackMessage( false );\n\t\t\t\t\t} else if ( sendButtonPressMessage ) {\n\t\t\t\t\t\ttimeoutId.current = setTimeout( () => {\n\t\t\t\t\t\t\tsendActionButtonPressedAction(\n\t\t\t\t\t\t\t\tactionButtons.missingBlockAlertActionButton\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t\tsetSendButtonPressMessage( false );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<View style={ styles.infoContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\tcolor={ infoSheetIconStyle.color }\n\t\t\t\t\t\tsize={ styles.infoSheetIcon.size }\n\t\t\t\t\t/>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoTitleStyle ] }>\n\t\t\t\t\t\t{ infoTitle }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t\t{ ( isUnsupportedBlockEditorSupported ||\n\t\t\t\t\tcanEnableUnsupportedBlockEditor ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BottomSheet.Cell\n\t\t\t\t\t\t\tlabel={ reusableBlockActionButton }\n\t\t\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\t\t\tonPress={ requestFallback }\n\t\t\t\t\t\t\tlabelStyle={ actionButtonStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<BottomSheet.Cell\n\t\t\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\t\t\tonPress={ closeSheet }\n\t\t\t\t\t\t\tlabelStyle={ actionButtonStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</BottomSheet>\n\t\t);\n\t}\n\n\tif ( ! hasResolved ) {\n\t\treturn (\n\t\t\t<View style={ spinnerStyle }>\n\t\t\t\t<ActivityIndicator animating />\n\t\t\t</View>\n\t\t);\n\t}\n\n\tif ( ! reusableBlock ) {\n\t\treturn (\n\t\t\t<Text>{ __( 'Block has been deleted or is unavailable.' ) }</Text>\n\t\t);\n\t}\n\n\tconst { title } = reusableBlock;\n\tlet element = (\n\t\t<BlockEditorProvider\n\t\t\tsettings={ settings }\n\t\t\tvalue={ blocks }\n\t\t\tonChange={ onChange }\n\t\t\tonInput={ onInput }\n\t\t>\n\t\t\t<BlockList withFooter={ false } marginHorizontal={ 0 } />\n\t\t</BlockEditorProvider>\n\t);\n\n\tif ( ! isEditing ) {\n\t\telement = <Disabled>{ element }</Disabled>;\n\t}\n\n\treturn (\n\t\t<TouchableWithoutFeedback\n\t\t\tdisabled={ ! isSelected }\n\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\taccessibilityRole={ 'button' }\n\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\tonPress={ openSheet }\n\t\t>\n\t\t\t<View>\n\t\t\t\t{ isSelected && <EditTitle title={ title } /> }\n\t\t\t\t{ element }\n\t\t\t\t{ renderSheet() }\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n"]}