{"version":3,"sources":["@wordpress/block-library/src/media-text/save.js"],"names":["classnames","noop","isEmpty","InnerBlocks","useBlockProps","imageFillStyles","DEFAULT_MEDIA_SIZE_SLUG","DEFAULT_MEDIA_WIDTH","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","newRel","undefined","imageClasses","image","mediaTypeRenders","video","className","backgroundStyles","gridTemplateColumns","style"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop, isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = isEmpty( rel ) ? undefined : rel;\n\n\tconst imageClasses = classnames( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tlet image = (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t/>\n\t);\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div className=\"wp-block-media-text__content\">\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}