{"version":3,"sources":["@wordpress/block-library/src/query/edit/query-placeholder.js"],"names":["useSelect","useDispatch","useBlockProps","__experimentalBlockVariationPicker","__experimentalGetMatchingVariation","getMatchingVariation","createBlocksFromInnerBlocksTemplate","store","blocksStore","QueryPlaceholder","clientId","name","attributes","setAttributes","select","getBlockVariations","getBlockType","getDefaultBlockVariation","blockType","defaultVariation","scopeVariations","allVariations","replaceInnerBlocks","blockProps","matchingVariation","icon","src","label","title","nextVariation","innerBlocks"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SACCC,aADD,EAECC,kCAFD,EAGCC,kCAAkC,IAAIC,oBAHvC,QAIO,yBAJP;AAKA,SACCC,mCADD,EAECC,KAAK,IAAIC,WAFV,QAGO,mBAHP;;AAKA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAqD;AAAA;;AAAA,MAAjDC,QAAiD,QAAjDA,QAAiD;AAAA,MAAvCC,IAAuC,QAAvCA,IAAuC;AAAA,MAAjCC,UAAiC,QAAjCA,UAAiC;AAAA,MAArBC,aAAqB,QAArBA,aAAqB;;AAAA,mBAMzEb,SAAS,CACZ,UAAEc,MAAF,EAAc;AAAA,kBAKTA,MAAM,CAAEN,WAAF,CALG;AAAA,QAEZO,kBAFY,WAEZA,kBAFY;AAAA,QAGZC,YAHY,WAGZA,YAHY;AAAA,QAIZC,wBAJY,WAIZA,wBAJY;;AAOb,WAAO;AACNC,MAAAA,SAAS,EAAEF,YAAY,CAAEL,IAAF,CADjB;AAENQ,MAAAA,gBAAgB,EAAEF,wBAAwB,CAAEN,IAAF,EAAQ,OAAR,CAFpC;AAGNS,MAAAA,eAAe,EAAEL,kBAAkB,CAAEJ,IAAF,EAAQ,OAAR,CAH7B;AAINU,MAAAA,aAAa,EAAEN,kBAAkB,CAAEJ,IAAF;AAJ3B,KAAP;AAMA,GAdW,EAeZ,CAAEA,IAAF,CAfY,CANgE;AAAA,MAE5EO,SAF4E,cAE5EA,SAF4E;AAAA,MAG5EC,gBAH4E,cAG5EA,gBAH4E;AAAA,MAI5EC,eAJ4E,cAI5EA,eAJ4E;AAAA,MAK5EC,aAL4E,cAK5EA,aAL4E;;AAAA,qBAuB9CpB,WAAW,CAAE,mBAAF,CAvBmC;AAAA,MAuBrEqB,kBAvBqE,gBAuBrEA,kBAvBqE;;AAwB7E,MAAMC,UAAU,GAAGrB,aAAa,EAAhC;AACA,MAAMsB,iBAAiB,GAAGnB,oBAAoB,CAAEO,UAAF,EAAcS,aAAd,CAA9C;AACA,MAAMI,IAAI,GAAG,CAAAD,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEC,IAAnB,MAA2BP,SAA3B,aAA2BA,SAA3B,0CAA2BA,SAAS,CAAEO,IAAtC,oDAA2B,gBAAiBC,GAA5C,CAAb;AACA,MAAMC,KAAK,GAAG,CAAAH,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEI,KAAnB,MAA4BV,SAA5B,aAA4BA,SAA5B,uBAA4BA,SAAS,CAAEU,KAAvC,CAAd;AACA,SACC,qBAAUL,UAAV,EACC,cAAC,kCAAD;AACC,IAAA,IAAI,EAAGE,IADR;AAEC,IAAA,KAAK,EAAGE,KAFT;AAGC,IAAA,UAAU,EAAGP,eAHd;AAIC,IAAA,QAAQ,EAAG,oBAAwC;AAAA,UAAtCS,aAAsC,uEAAtBV,gBAAsB;;AAClD,UAAKU,aAAa,CAACjB,UAAnB,EAAgC;AAC/BC,QAAAA,aAAa,CAAEgB,aAAa,CAACjB,UAAhB,CAAb;AACA;;AACD,UAAKiB,aAAa,CAACC,WAAnB,EAAiC;AAChCR,QAAAA,kBAAkB,CACjBZ,QADiB,EAEjBJ,mCAAmC,CAClCuB,aAAa,CAACC,WADoB,CAFlB,EAKjB,KALiB,CAAlB;AAOA;AACD;AAjBF,IADD,CADD;AAuBA,CAnDD;;AAqDA,eAAerB,gBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseBlockProps,\n\t__experimentalBlockVariationPicker,\n\t__experimentalGetMatchingVariation as getMatchingVariation,\n} from '@wordpress/block-editor';\nimport {\n\tcreateBlocksFromInnerBlocksTemplate,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\n\nconst QueryPlaceholder = ( { clientId, name, attributes, setAttributes } ) => {\n\tconst {\n\t\tblockType,\n\t\tdefaultVariation,\n\t\tscopeVariations,\n\t\tallVariations,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockVariations,\n\t\t\t\tgetBlockType,\n\t\t\t\tgetDefaultBlockVariation,\n\t\t\t} = select( blocksStore );\n\n\t\t\treturn {\n\t\t\t\tblockType: getBlockType( name ),\n\t\t\t\tdefaultVariation: getDefaultBlockVariation( name, 'block' ),\n\t\t\t\tscopeVariations: getBlockVariations( name, 'block' ),\n\t\t\t\tallVariations: getBlockVariations( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\tconst { replaceInnerBlocks } = useDispatch( 'core/block-editor' );\n\tconst blockProps = useBlockProps();\n\tconst matchingVariation = getMatchingVariation( attributes, allVariations );\n\tconst icon = matchingVariation?.icon || blockType?.icon?.src;\n\tconst label = matchingVariation?.title || blockType?.title;\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<__experimentalBlockVariationPicker\n\t\t\t\ticon={ icon }\n\t\t\t\tlabel={ label }\n\t\t\t\tvariations={ scopeVariations }\n\t\t\t\tonSelect={ ( nextVariation = defaultVariation ) => {\n\t\t\t\t\tif ( nextVariation.attributes ) {\n\t\t\t\t\t\tsetAttributes( nextVariation.attributes );\n\t\t\t\t\t}\n\t\t\t\t\tif ( nextVariation.innerBlocks ) {\n\t\t\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(\n\t\t\t\t\t\t\t\tnextVariation.innerBlocks\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default QueryPlaceholder;\n"]}