{"version":3,"sources":["@wordpress/block-library/src/button/edit.js"],"names":["classnames","__","useCallback","useState","Button","ButtonGroup","KeyboardShortcuts","PanelBody","RangeControl","TextControl","ToggleControl","ToolbarButton","ToolbarGroup","Popover","BlockControls","InspectorControls","RichText","useBlockProps","__experimentalLinkControl","LinkControl","__experimentalUseEditorFeature","useEditorFeature","rawShortcut","displayShortcut","link","linkOff","createBlock","ColorEdit","getColorAndStyleProps","NEW_TAB_REL","MIN_BORDER_RADIUS_VALUE","MAX_BORDER_RADIUS_VALUE","INITIAL_BORDER_RADIUS_POSITION","EMPTY_ARRAY","BorderPanel","borderRadius","setAttributes","initialBorderRadius","setBorderRadius","newBorderRadius","undefined","WidthPanel","selectedWidth","handleChange","newWidth","width","map","widthValue","URLPicker","isSelected","url","opensInNewTab","onToggleOpenInNewTab","anchorRef","isURLPickerOpen","setIsURLPickerOpen","urlIsSet","urlIsSetandSelected","openLinkControl","unlinkButton","linkTarget","rel","linkControl","current","newURL","newOpensInNewTab","primary","primaryShift","ButtonEdit","props","attributes","className","onReplace","mergeBlocks","placeholder","text","onSetLinkRel","value","colors","newLinkTarget","updatedRel","colorProps","blockProps","style","ref"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,oBAAtC;AACA,SACCC,MADD,EAECC,WAFD,EAGCC,iBAHD,EAICC,SAJD,EAKCC,YALD,EAMCC,WAND,EAOCC,aAPD,EAQCC,aARD,EASCC,YATD,EAUCC,OAVD,QAWO,uBAXP;AAYA,SACCC,aADD,EAECC,iBAFD,EAGCC,QAHD,EAICC,aAJD,EAKCC,yBAAyB,IAAIC,WAL9B,EAMCC,8BAA8B,IAAIC,gBANnC,QAOO,yBAPP;AAQA,SAASC,WAAT,EAAsBC,eAAtB,QAA6C,qBAA7C;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,kBAA9B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA;AACA;AACA;;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,qBAAP,MAAkC,eAAlC;AAEA,IAAMC,WAAW,GAAG,qBAApB;AACA,IAAMC,uBAAuB,GAAG,CAAhC;AACA,IAAMC,uBAAuB,GAAG,EAAhC;AACA,IAAMC,8BAA8B,GAAG,CAAvC;AAEA,IAAMC,WAAW,GAAG,EAApB;;AAEA,SAASC,WAAT,OAA6D;AAAA,+BAArCC,YAAqC;AAAA,MAArCA,YAAqC,kCAAtB,EAAsB;AAAA,MAAlBC,aAAkB,QAAlBA,aAAkB;AAC5D,MAAMC,mBAAmB,GAAGF,YAA5B;AACA,MAAMG,eAAe,GAAGpC,WAAW,CAClC,UAAEqC,eAAF,EAAuB;AACtB,QAAKA,eAAe,KAAKC,SAAzB,EACCJ,aAAa,CAAE;AACdD,MAAAA,YAAY,EAAEE;AADA,KAAF,CAAb,CADD,KAIKD,aAAa,CAAE;AAAED,MAAAA,YAAY,EAAEI;AAAhB,KAAF,CAAb;AACL,GAPiC,EAQlC,CAAEH,aAAF,CARkC,CAAnC;AAUA,SACC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAGnC,EAAE,CAAE,iBAAF;AAArB,KACC,cAAC,YAAD;AACC,IAAA,KAAK,EAAGkC,YADT;AAEC,IAAA,KAAK,EAAGlC,EAAE,CAAE,eAAF,CAFX;AAGC,IAAA,GAAG,EAAG6B,uBAHP;AAIC,IAAA,GAAG,EAAGC,uBAJP;AAKC,IAAA,eAAe,EAAGC,8BALnB;AAMC,IAAA,UAAU,MANX;AAOC,IAAA,QAAQ,EAAGM;AAPZ,IADD,CADD;AAaA;;AAED,SAASG,UAAT,QAAwD;AAAA,MAAjCC,aAAiC,SAAjCA,aAAiC;AAAA,MAAlBN,aAAkB,SAAlBA,aAAkB;;AACvD,WAASO,YAAT,CAAuBC,QAAvB,EAAkC;AACjC;AACA,QAAMC,KAAK,GAAGH,aAAa,KAAKE,QAAlB,GAA6BJ,SAA7B,GAAyCI,QAAvD,CAFiC,CAIjC;;AACAR,IAAAA,aAAa,CAAE;AAAES,MAAAA,KAAK,EAALA;AAAF,KAAF,CAAb;AACA;;AAED,SACC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAG5C,EAAE,CAAE,gBAAF;AAArB,KACC,cAAC,WAAD;AAAa,kBAAaA,EAAE,CAAE,cAAF;AAA5B,KACG,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,EAAc,GAAd,EAAoB6C,GAApB,CAAyB,UAAEC,UAAF,EAAkB;AAC5C,WACC,cAAC,MAAD;AACC,MAAA,GAAG,EAAGA,UADP;AAEC,MAAA,OAAO,MAFR;AAGC,MAAA,SAAS,EAAGA,UAAU,KAAKL,aAH5B;AAIC,MAAA,OAAO,EAAG;AAAA,eAAMC,YAAY,CAAEI,UAAF,CAAlB;AAAA;AAJX,OAMGA,UANH,MADD;AAUA,GAXC,CADH,CADD,CADD;AAkBA;;AAED,SAASC,SAAT,QAOI;AAAA;;AAAA,MANHC,UAMG,SANHA,UAMG;AAAA,MALHC,GAKG,SALHA,GAKG;AAAA,MAJHd,aAIG,SAJHA,aAIG;AAAA,MAHHe,aAGG,SAHHA,aAGG;AAAA,MAFHC,oBAEG,SAFHA,oBAEG;AAAA,MADHC,SACG,SADHA,SACG;;AAAA,kBAC6ClD,QAAQ,CAAE,KAAF,CADrD;AAAA;AAAA,MACKmD,eADL;AAAA,MACsBC,kBADtB;;AAEH,MAAMC,QAAQ,GAAG,CAAC,CAAEN,GAApB;AACA,MAAMO,mBAAmB,GAAGD,QAAQ,IAAIP,UAAxC;;AACA,MAAMS,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC7BH,IAAAA,kBAAkB,CAAE,IAAF,CAAlB;AACA,WAAO,KAAP,CAF6B,CAEf;AACd,GAHD;;AAIA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BvB,IAAAA,aAAa,CAAE;AACdc,MAAAA,GAAG,EAAEV,SADS;AAEdoB,MAAAA,UAAU,EAAEpB,SAFE;AAGdqB,MAAAA,GAAG,EAAErB;AAHS,KAAF,CAAb;AAKAe,IAAAA,kBAAkB,CAAE,KAAF,CAAlB;AACA,GAPD;;AAQA,MAAMO,WAAW,GAAG,CAAER,eAAe,IAAIG,mBAArB,KACnB,cAAC,OAAD;AACC,IAAA,QAAQ,EAAC,eADV;AAEC,IAAA,OAAO,EAAG;AAAA,aAAMF,kBAAkB,CAAE,KAAF,CAAxB;AAAA,KAFX;AAGC,IAAA,SAAS,EAAGF,SAAH,aAAGA,SAAH,uBAAGA,SAAS,CAAEU;AAHxB,KAKC,cAAC,WAAD;AACC,IAAA,SAAS,EAAC,6CADX;AAEC,IAAA,KAAK,EAAG;AAAEb,MAAAA,GAAG,EAAHA,GAAF;AAAOC,MAAAA,aAAa,EAAbA;AAAP,KAFT;AAGC,IAAA,QAAQ,EAAG,yBAGJ;AAAA,4BAFND,GAEM;AAAA,UAFDc,MAEC,0BAFQ,EAER;AAAA,UADSC,gBACT,SADNd,aACM;AACNf,MAAAA,aAAa,CAAE;AAAEc,QAAAA,GAAG,EAAEc;AAAP,OAAF,CAAb;;AAEA,UAAKb,aAAa,KAAKc,gBAAvB,EAA0C;AACzCb,QAAAA,oBAAoB,CAAEa,gBAAF,CAApB;AACA;AACD;AAZF,IALD,CADD;AAsBA,SACC,8BACC,cAAC,aAAD,QACC,cAAC,YAAD,QACG,CAAET,QAAF,IACD,cAAC,aAAD;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,IAAI,EAAGhC,IAFR;AAGC,IAAA,KAAK,EAAGvB,EAAE,CAAE,MAAF,CAHX;AAIC,IAAA,QAAQ,EAAGsB,eAAe,CAAC2C,OAAhB,CAAyB,GAAzB,CAJZ;AAKC,IAAA,OAAO,EAAGR;AALX,IAFF,EAUGD,mBAAmB,IACpB,cAAC,aAAD;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,IAAI,EAAGhC,OAFR;AAGC,IAAA,KAAK,EAAGxB,EAAE,CAAE,QAAF,CAHX;AAIC,IAAA,QAAQ,EAAGsB,eAAe,CAAC4C,YAAhB,CAA8B,GAA9B,CAJZ;AAKC,IAAA,OAAO,EAAGR,YALX;AAMC,IAAA,QAAQ,EAAG;AANZ,IAXF,CADD,CADD,EAwBGV,UAAU,IACX,cAAC,iBAAD;AACC,IAAA,UAAU,MADX;AAEC,IAAA,SAAS,sCACN3B,WAAW,CAAC4C,OAAZ,CAAqB,GAArB,CADM,EACwBR,eADxB,0BAENpC,WAAW,CAAC6C,YAAZ,CAA0B,GAA1B,CAFM,EAE6BR,YAF7B;AAFV,IAzBF,EAiCGG,WAjCH,CADD;AAqCA;;AAED,SAASM,UAAT,CAAqBC,KAArB,EAA6B;AAAA,MAE3BC,UAF2B,GAQxBD,KARwB,CAE3BC,UAF2B;AAAA,MAG3BlC,aAH2B,GAQxBiC,KARwB,CAG3BjC,aAH2B;AAAA,MAI3BmC,SAJ2B,GAQxBF,KARwB,CAI3BE,SAJ2B;AAAA,MAK3BtB,UAL2B,GAQxBoB,KARwB,CAK3BpB,UAL2B;AAAA,MAM3BuB,SAN2B,GAQxBH,KARwB,CAM3BG,SAN2B;AAAA,MAO3BC,WAP2B,GAQxBJ,KARwB,CAO3BI,WAP2B;AAAA,MAU3BtC,YAV2B,GAiBxBmC,UAjBwB,CAU3BnC,YAV2B;AAAA,MAW3ByB,UAX2B,GAiBxBU,UAjBwB,CAW3BV,UAX2B;AAAA,MAY3Bc,WAZ2B,GAiBxBJ,UAjBwB,CAY3BI,WAZ2B;AAAA,MAa3Bb,GAb2B,GAiBxBS,UAjBwB,CAa3BT,GAb2B;AAAA,MAc3Bc,IAd2B,GAiBxBL,UAjBwB,CAc3BK,IAd2B;AAAA,MAe3BzB,GAf2B,GAiBxBoB,UAjBwB,CAe3BpB,GAf2B;AAAA,MAgB3BL,KAhB2B,GAiBxByB,UAjBwB,CAgB3BzB,KAhB2B;AAkB5B,MAAM+B,YAAY,GAAG1E,WAAW,CAC/B,UAAE2E,KAAF,EAAa;AACZzC,IAAAA,aAAa,CAAE;AAAEyB,MAAAA,GAAG,EAAEgB;AAAP,KAAF,CAAb;AACA,GAH8B,EAI/B,CAAEzC,aAAF,CAJ+B,CAAhC;AAMA,MAAM0C,MAAM,GAAGzD,gBAAgB,CAAE,eAAF,CAAhB,IAAuCY,WAAtD;AAEA,MAAMmB,oBAAoB,GAAGlD,WAAW,CACvC,UAAE2E,KAAF,EAAa;AACZ,QAAME,aAAa,GAAGF,KAAK,GAAG,QAAH,GAAcrC,SAAzC;AAEA,QAAIwC,UAAU,GAAGnB,GAAjB;;AACA,QAAKkB,aAAa,IAAI,CAAElB,GAAxB,EAA8B;AAC7BmB,MAAAA,UAAU,GAAGnD,WAAb;AACA,KAFD,MAEO,IAAK,CAAEkD,aAAF,IAAmBlB,GAAG,KAAKhC,WAAhC,EAA8C;AACpDmD,MAAAA,UAAU,GAAGxC,SAAb;AACA;;AAEDJ,IAAAA,aAAa,CAAE;AACdwB,MAAAA,UAAU,EAAEmB,aADE;AAEdlB,MAAAA,GAAG,EAAEmB;AAFS,KAAF,CAAb;AAIA,GAfsC,EAgBvC,CAAEnB,GAAF,EAAOzB,aAAP,CAhBuC,CAAxC;AAmBA,MAAM6C,UAAU,GAAGrD,qBAAqB,CAAE0C,UAAF,EAAcQ,MAAd,EAAsB,IAAtB,CAAxC;AACA,MAAMI,UAAU,GAAGjE,aAAa,EAAhC;AAEA,SACC,8BACC,cAAC,SAAD,EAAgBoD,KAAhB,CADD,EAEC,kCACMa,UADN;AAEC,IAAA,SAAS,EAAGlF,UAAU,CAAEkF,UAAU,CAACX,SAAb,wEACyB1B,KADzB,GACqCA,KADrC;AAFvB,MAMC,cAAC,QAAD;AACC,kBAAa5C,EAAE,CAAE,aAAF,CADhB;AAEC,IAAA,WAAW,EAAGyE,WAAW,IAAIzE,EAAE,CAAE,WAAF,CAFhC;AAGC,IAAA,KAAK,EAAG0E,IAHT;AAIC,IAAA,QAAQ,EAAG,kBAAEE,KAAF;AAAA,aAAazC,aAAa,CAAE;AAAEuC,QAAAA,IAAI,EAAEE;AAAR,OAAF,CAA1B;AAAA,KAJZ;AAKC,IAAA,4BAA4B,MAL7B;AAMC,IAAA,SAAS,EAAG7E,UAAU,CACrBuE,SADqB,EAErB,uBAFqB,EAGrBU,UAAU,CAACV,SAHU,EAIrB;AACC,0BAAoBpC,YAAY,KAAK;AADtC,KAJqB,CANvB;AAcC,IAAA,KAAK;AACJA,MAAAA,YAAY,EAAEA,YAAY,GACvBA,YAAY,GAAG,IADQ,GAEvBK;AAHC,OAIDyC,UAAU,CAACE,KAJV,CAdN;AAoBC,IAAA,OAAO,EAAG,iBAAEN,KAAF;AAAA,aACTnD,WAAW,CAAE,aAAF,kCACP4C,UADO;AAEVK,QAAAA,IAAI,EAAEE;AAFI,SADF;AAAA,KApBX;AA0BC,IAAA,SAAS,EAAGL,SA1Bb;AA2BC,IAAA,OAAO,EAAGC,WA3BX;AA4BC,IAAA,UAAU,EAAC;AA5BZ,IAND,CAFD,EAuCC,cAAC,SAAD;AACC,IAAA,GAAG,EAAGvB,GADP;AAEC,IAAA,aAAa,EAAGd,aAFjB;AAGC,IAAA,UAAU,EAAGa,UAHd;AAIC,IAAA,aAAa,EAAGW,UAAU,KAAK,QAJhC;AAKC,IAAA,oBAAoB,EAAGR,oBALxB;AAMC,IAAA,SAAS,EAAG8B,UAAU,CAACE;AANxB,IAvCD,EA+CC,cAAC,iBAAD,QACC,cAAC,WAAD;AACC,IAAA,YAAY,EAAGjD,YADhB;AAEC,IAAA,aAAa,EAAGC;AAFjB,IADD,EAKC,cAAC,UAAD;AACC,IAAA,aAAa,EAAGS,KADjB;AAEC,IAAA,aAAa,EAAGT;AAFjB,IALD,EASC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAGnC,EAAE,CAAE,eAAF;AAArB,KACC,cAAC,aAAD;AACC,IAAA,KAAK,EAAGA,EAAE,CAAE,iBAAF,CADX;AAEC,IAAA,QAAQ,EAAGmD,oBAFZ;AAGC,IAAA,OAAO,EAAGQ,UAAU,KAAK;AAH1B,IADD,EAMC,cAAC,WAAD;AACC,IAAA,KAAK,EAAG3D,EAAE,CAAE,UAAF,CADX;AAEC,IAAA,KAAK,EAAG4D,GAAG,IAAI,EAFhB;AAGC,IAAA,QAAQ,EAAGe;AAHZ,IAND,CATD,CA/CD,CADD;AAwEA;;AAED,eAAeR,UAAf","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useCallback, useState } from '@wordpress/element';\nimport {\n\tButton,\n\tButtonGroup,\n\tKeyboardShortcuts,\n\tPanelBody,\n\tRangeControl,\n\tTextControl,\n\tToggleControl,\n\tToolbarButton,\n\tToolbarGroup,\n\tPopover,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\t__experimentalLinkControl as LinkControl,\n\t__experimentalUseEditorFeature as useEditorFeature,\n} from '@wordpress/block-editor';\nimport { rawShortcut, displayShortcut } from '@wordpress/keycodes';\nimport { link, linkOff } from '@wordpress/icons';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ColorEdit from './color-edit';\nimport getColorAndStyleProps from './color-props';\n\nconst NEW_TAB_REL = 'noreferrer noopener';\nconst MIN_BORDER_RADIUS_VALUE = 0;\nconst MAX_BORDER_RADIUS_VALUE = 50;\nconst INITIAL_BORDER_RADIUS_POSITION = 5;\n\nconst EMPTY_ARRAY = [];\n\nfunction BorderPanel( { borderRadius = '', setAttributes } ) {\n\tconst initialBorderRadius = borderRadius;\n\tconst setBorderRadius = useCallback(\n\t\t( newBorderRadius ) => {\n\t\t\tif ( newBorderRadius === undefined )\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tborderRadius: initialBorderRadius,\n\t\t\t\t} );\n\t\t\telse setAttributes( { borderRadius: newBorderRadius } );\n\t\t},\n\t\t[ setAttributes ]\n\t);\n\treturn (\n\t\t<PanelBody title={ __( 'Border settings' ) }>\n\t\t\t<RangeControl\n\t\t\t\tvalue={ borderRadius }\n\t\t\t\tlabel={ __( 'Border radius' ) }\n\t\t\t\tmin={ MIN_BORDER_RADIUS_VALUE }\n\t\t\t\tmax={ MAX_BORDER_RADIUS_VALUE }\n\t\t\t\tinitialPosition={ INITIAL_BORDER_RADIUS_POSITION }\n\t\t\t\tallowReset\n\t\t\t\tonChange={ setBorderRadius }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n\nfunction WidthPanel( { selectedWidth, setAttributes } ) {\n\tfunction handleChange( newWidth ) {\n\t\t// Check if we are toggling the width off\n\t\tconst width = selectedWidth === newWidth ? undefined : newWidth;\n\n\t\t// Update attributes\n\t\tsetAttributes( { width } );\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Width settings' ) }>\n\t\t\t<ButtonGroup aria-label={ __( 'Button width' ) }>\n\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( widthValue ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={ widthValue }\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tisPrimary={ widthValue === selectedWidth }\n\t\t\t\t\t\t\tonClick={ () => handleChange( widthValue ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ widthValue }%\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ButtonGroup>\n\t\t</PanelBody>\n\t);\n}\n\nfunction URLPicker( {\n\tisSelected,\n\turl,\n\tsetAttributes,\n\topensInNewTab,\n\tonToggleOpenInNewTab,\n\tanchorRef,\n} ) {\n\tconst [ isURLPickerOpen, setIsURLPickerOpen ] = useState( false );\n\tconst urlIsSet = !! url;\n\tconst urlIsSetandSelected = urlIsSet && isSelected;\n\tconst openLinkControl = () => {\n\t\tsetIsURLPickerOpen( true );\n\t\treturn false; // prevents default behaviour for event\n\t};\n\tconst unlinkButton = () => {\n\t\tsetAttributes( {\n\t\t\turl: undefined,\n\t\t\tlinkTarget: undefined,\n\t\t\trel: undefined,\n\t\t} );\n\t\tsetIsURLPickerOpen( false );\n\t};\n\tconst linkControl = ( isURLPickerOpen || urlIsSetandSelected ) && (\n\t\t<Popover\n\t\t\tposition=\"bottom center\"\n\t\t\tonClose={ () => setIsURLPickerOpen( false ) }\n\t\t\tanchorRef={ anchorRef?.current }\n\t\t>\n\t\t\t<LinkControl\n\t\t\t\tclassName=\"wp-block-navigation-link__inline-link-input\"\n\t\t\t\tvalue={ { url, opensInNewTab } }\n\t\t\t\tonChange={ ( {\n\t\t\t\t\turl: newURL = '',\n\t\t\t\t\topensInNewTab: newOpensInNewTab,\n\t\t\t\t} ) => {\n\t\t\t\t\tsetAttributes( { url: newURL } );\n\n\t\t\t\t\tif ( opensInNewTab !== newOpensInNewTab ) {\n\t\t\t\t\t\tonToggleOpenInNewTab( newOpensInNewTab );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t</Popover>\n\t);\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t{ ! urlIsSet && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\ticon={ link }\n\t\t\t\t\t\t\ttitle={ __( 'Link' ) }\n\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\t\tonClick={ openLinkControl }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ urlIsSetandSelected && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\ticon={ linkOff }\n\t\t\t\t\t\t\ttitle={ __( 'Unlink' ) }\n\t\t\t\t\t\t\tshortcut={ displayShortcut.primaryShift( 'k' ) }\n\t\t\t\t\t\t\tonClick={ unlinkButton }\n\t\t\t\t\t\t\tisActive={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t{ isSelected && (\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tbindGlobal\n\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t[ rawShortcut.primary( 'k' ) ]: openLinkControl,\n\t\t\t\t\t\t[ rawShortcut.primaryShift( 'k' ) ]: unlinkButton,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ linkControl }\n\t\t</>\n\t);\n}\n\nfunction ButtonEdit( props ) {\n\tconst {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tclassName,\n\t\tisSelected,\n\t\tonReplace,\n\t\tmergeBlocks,\n\t} = props;\n\tconst {\n\t\tborderRadius,\n\t\tlinkTarget,\n\t\tplaceholder,\n\t\trel,\n\t\ttext,\n\t\turl,\n\t\twidth,\n\t} = attributes;\n\tconst onSetLinkRel = useCallback(\n\t\t( value ) => {\n\t\t\tsetAttributes( { rel: value } );\n\t\t},\n\t\t[ setAttributes ]\n\t);\n\tconst colors = useEditorFeature( 'color.palette' ) || EMPTY_ARRAY;\n\n\tconst onToggleOpenInNewTab = useCallback(\n\t\t( value ) => {\n\t\t\tconst newLinkTarget = value ? '_blank' : undefined;\n\n\t\t\tlet updatedRel = rel;\n\t\t\tif ( newLinkTarget && ! rel ) {\n\t\t\t\tupdatedRel = NEW_TAB_REL;\n\t\t\t} else if ( ! newLinkTarget && rel === NEW_TAB_REL ) {\n\t\t\t\tupdatedRel = undefined;\n\t\t\t}\n\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTarget: newLinkTarget,\n\t\t\t\trel: updatedRel,\n\t\t\t} );\n\t\t},\n\t\t[ rel, setAttributes ]\n\t);\n\n\tconst colorProps = getColorAndStyleProps( attributes, colors, true );\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<>\n\t\t\t<ColorEdit { ...props } />\n\t\t\t<div\n\t\t\t\t{ ...blockProps }\n\t\t\t\tclassName={ classnames( blockProps.className, {\n\t\t\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\taria-label={ __( 'Button text' ) }\n\t\t\t\t\tplaceholder={ placeholder || __( 'Add text…' ) }\n\t\t\t\t\tvalue={ text }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { text: value } ) }\n\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t'wp-block-button__link',\n\t\t\t\t\t\tcolorProps.className,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'no-border-radius': borderRadius === 0,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tborderRadius: borderRadius\n\t\t\t\t\t\t\t? borderRadius + 'px'\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t...colorProps.style,\n\t\t\t\t\t} }\n\t\t\t\t\tonSplit={ ( value ) =>\n\t\t\t\t\t\tcreateBlock( 'core/button', {\n\t\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\tidentifier=\"text\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<URLPicker\n\t\t\t\turl={ url }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tisSelected={ isSelected }\n\t\t\t\topensInNewTab={ linkTarget === '_blank' }\n\t\t\t\tonToggleOpenInNewTab={ onToggleOpenInNewTab }\n\t\t\t\tanchorRef={ blockProps.ref }\n\t\t\t/>\n\t\t\t<InspectorControls>\n\t\t\t\t<BorderPanel\n\t\t\t\t\tborderRadius={ borderRadius }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t\t<WidthPanel\n\t\t\t\t\tselectedWidth={ width }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t\t<PanelBody title={ __( 'Link settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\tonChange={ onToggleOpenInNewTab }\n\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\t\tonChange={ onSetLinkRel }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n}\n\nexport default ButtonEdit;\n"]}