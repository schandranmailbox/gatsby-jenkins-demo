{"version":3,"sources":["@wordpress/block-library/src/list/edit.js"],"names":["__","_x","isRTL","createBlock","RichText","BlockControls","RichTextShortcut","useBlockProps","ToolbarGroup","__unstableCanIndentListItems","canIndentListItems","__unstableCanOutdentListItems","canOutdentListItems","__unstableIndentListItems","indentListItems","__unstableOutdentListItems","outdentListItems","__unstableChangeListType","changeListType","__unstableIsListRootSelected","isListRootSelected","__unstableIsActiveListType","isActiveListType","formatListBullets","formatListBulletsRTL","formatListNumbered","formatListNumberedRTL","formatIndent","formatIndentRTL","formatOutdent","formatOutdentRTL","name","OrderedListSettings","ListEdit","attributes","setAttributes","mergeBlocks","onReplace","isSelected","ordered","values","type","reversed","start","tagName","controls","value","onChange","onFocus","icon","title","describedBy","isActive","onClick","shortcut","isDisabled","blockProps","nextValues"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA,SAASA,EAAT,EAAaC,EAAb,EAAiBC,KAAjB,QAA8B,iBAA9B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SACCC,QADD,EAECC,aAFD,EAGCC,gBAHD,EAICC,aAJD,QAKO,yBALP;AAMA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SACCC,4BAA4B,IAAIC,kBADjC,EAECC,6BAA6B,IAAIC,mBAFlC,EAGCC,yBAAyB,IAAIC,eAH9B,EAICC,0BAA0B,IAAIC,gBAJ/B,EAKCC,wBAAwB,IAAIC,cAL7B,EAMCC,4BAA4B,IAAIC,kBANjC,EAOCC,0BAA0B,IAAIC,gBAP/B,QAQO,sBARP;AASA,SACCC,iBADD,EAECC,oBAFD,EAGCC,kBAHD,EAICC,qBAJD,EAKCC,YALD,EAMCC,eAND,EAOCC,aAPD,EAQCC,gBARD,QASO,kBATP;AAWA;AACA;AACA;;AACA,SAASC,IAAT,QAAqB,IAArB;AACA,OAAOC,mBAAP,MAAgC,yBAAhC;AAEA,eAAe,SAASC,QAAT,OAMX;AAAA,MALHC,UAKG,QALHA,UAKG;AAAA,MAJHC,aAIG,QAJHA,aAIG;AAAA,MAHHC,WAGG,QAHHA,WAGG;AAAA,MAFHC,SAEG,QAFHA,SAEG;AAAA,MADHC,UACG,QADHA,UACG;AAAA,MACKC,OADL,GACgDL,UADhD,CACKK,OADL;AAAA,MACcC,MADd,GACgDN,UADhD,CACcM,MADd;AAAA,MACsBC,IADtB,GACgDP,UADhD,CACsBO,IADtB;AAAA,MAC4BC,QAD5B,GACgDR,UADhD,CAC4BQ,QAD5B;AAAA,MACsCC,KADtC,GACgDT,UADhD,CACsCS,KADtC;AAEH,MAAMC,OAAO,GAAGL,OAAO,GAAG,IAAH,GAAU,IAAjC;;AAEA,MAAMM,QAAQ,GAAG,SAAXA,QAAW;AAAA,QAAIC,KAAJ,SAAIA,KAAJ;AAAA,QAAWC,QAAX,SAAWA,QAAX;AAAA,QAAqBC,OAArB,SAAqBA,OAArB;AAAA,WAChB,8BACGV,UAAU,IACX,8BACC,cAAC,gBAAD;AACC,MAAA,IAAI,EAAC,SADN;AAEC,MAAA,SAAS,EAAC,GAFX;AAGC,MAAA,KAAK,EAAG,iBAAM;AACbS,QAAAA,QAAQ,CAAE/B,gBAAgB,CAAE8B,KAAF,CAAlB,CAAR;AACA;AALF,MADD,EAQC,cAAC,gBAAD;AACC,MAAA,IAAI,EAAC,SADN;AAEC,MAAA,SAAS,EAAC,GAFX;AAGC,MAAA,KAAK,EAAG,iBAAM;AACbC,QAAAA,QAAQ,CACPjC,eAAe,CAAEgC,KAAF,EAAS;AAAEL,UAAAA,IAAI,EAAEG;AAAR,SAAT,CADR,CAAR;AAGA;AAPF,MARD,EAiBC,cAAC,gBAAD;AACC,MAAA,IAAI,EAAC,SADN;AAEC,MAAA,SAAS,EAAC,GAFX;AAGC,MAAA,KAAK,EAAG,iBAAM;AACbG,QAAAA,QAAQ,CACPjC,eAAe,CAAEgC,KAAF,EAAS;AAAEL,UAAAA,IAAI,EAAEG;AAAR,SAAT,CADR,CAAR;AAGA;AAPF,MAjBD,EA0BC,cAAC,gBAAD;AACC,MAAA,IAAI,EAAC,cADN;AAEC,MAAA,SAAS,EAAC,GAFX;AAGC,MAAA,KAAK,EAAG,iBAAM;AACbG,QAAAA,QAAQ,CAAE/B,gBAAgB,CAAE8B,KAAF,CAAlB,CAAR;AACA;AALF,MA1BD,CAFF,EAqCC,cAAC,aAAD,QACC,cAAC,YAAD;AACC,MAAA,QAAQ,EAAG,CACV;AACCG,QAAAA,IAAI,EAAE/C,KAAK,KACRsB,oBADQ,GAERD,iBAHJ;AAIC2B,QAAAA,KAAK,EAAElD,EAAE,CAAE,WAAF,CAJV;AAKCmD,QAAAA,WAAW,EAAEnD,EAAE,CAAE,2BAAF,CALhB;AAMCoD,QAAAA,QAAQ,EAAE9B,gBAAgB,CAAEwB,KAAF,EAAS,IAAT,EAAeF,OAAf,CAN3B;AAOCS,QAAAA,OAPD,qBAOW;AACTN,UAAAA,QAAQ,CACP7B,cAAc,CAAE4B,KAAF,EAAS;AAAEL,YAAAA,IAAI,EAAE;AAAR,WAAT,CADP,CAAR;AAGAO,UAAAA,OAAO;;AAEP,cAAK5B,kBAAkB,CAAE0B,KAAF,CAAvB,EAAmC;AAClCX,YAAAA,aAAa,CAAE;AAAEI,cAAAA,OAAO,EAAE;AAAX,aAAF,CAAb;AACA;AACD;AAhBF,OADU,EAmBV;AACCU,QAAAA,IAAI,EAAE/C,KAAK,KACRwB,qBADQ,GAERD,kBAHJ;AAICyB,QAAAA,KAAK,EAAElD,EAAE,CAAE,SAAF,CAJV;AAKCmD,QAAAA,WAAW,EAAEnD,EAAE,CAAE,yBAAF,CALhB;AAMCoD,QAAAA,QAAQ,EAAE9B,gBAAgB,CAAEwB,KAAF,EAAS,IAAT,EAAeF,OAAf,CAN3B;AAOCS,QAAAA,OAPD,qBAOW;AACTN,UAAAA,QAAQ,CACP7B,cAAc,CAAE4B,KAAF,EAAS;AAAEL,YAAAA,IAAI,EAAE;AAAR,WAAT,CADP,CAAR;AAGAO,UAAAA,OAAO;;AAEP,cAAK5B,kBAAkB,CAAE0B,KAAF,CAAvB,EAAmC;AAClCX,YAAAA,aAAa,CAAE;AAAEI,cAAAA,OAAO,EAAE;AAAX,aAAF,CAAb;AACA;AACD;AAhBF,OAnBU,EAqCV;AACCU,QAAAA,IAAI,EAAE/C,KAAK,KAAK4B,gBAAL,GAAwBD,aADpC;AAECqB,QAAAA,KAAK,EAAElD,EAAE,CAAE,SAAF,CAFV;AAGCmD,QAAAA,WAAW,EAAEnD,EAAE,CAAE,mBAAF,CAHhB;AAICsD,QAAAA,QAAQ,EAAErD,EAAE,CAAE,WAAF,EAAe,cAAf,CAJb;AAKCsD,QAAAA,UAAU,EAAE,CAAE3C,mBAAmB,CAAEkC,KAAF,CALlC;AAMCO,QAAAA,OAND,qBAMW;AACTN,UAAAA,QAAQ,CAAE/B,gBAAgB,CAAE8B,KAAF,CAAlB,CAAR;AACAE,UAAAA,OAAO;AACP;AATF,OArCU,EAgDV;AACCC,QAAAA,IAAI,EAAE/C,KAAK,KAAK0B,eAAL,GAAuBD,YADnC;AAECuB,QAAAA,KAAK,EAAElD,EAAE,CAAE,QAAF,CAFV;AAGCmD,QAAAA,WAAW,EAAEnD,EAAE,CAAE,kBAAF,CAHhB;AAICsD,QAAAA,QAAQ,EAAErD,EAAE,CAAE,OAAF,EAAW,cAAX,CAJb;AAKCsD,QAAAA,UAAU,EAAE,CAAE7C,kBAAkB,CAAEoC,KAAF,CALjC;AAMCO,QAAAA,OAND,qBAMW;AACTN,UAAAA,QAAQ,CACPjC,eAAe,CAAEgC,KAAF,EAAS;AAAEL,YAAAA,IAAI,EAAEG;AAAR,WAAT,CADR,CAAR;AAGAI,UAAAA,OAAO;AACP;AAXF,OAhDU;AADZ,MADD,CArCD,CADgB;AAAA,GAAjB;;AA2GA,MAAMQ,UAAU,GAAGjD,aAAa,EAAhC;AAEA,SACC,8BACC,cAAC,QAAD;AACC,IAAA,UAAU,EAAC,QADZ;AAEC,IAAA,SAAS,EAAC,IAFX;AAGC,IAAA,0BAA0B,EAAGqC,OAH9B;AAIC,IAAA,OAAO,EAAGA,OAJX;AAKC,IAAA,QAAQ,EAAG,kBAAEa,UAAF;AAAA,aACVtB,aAAa,CAAE;AAAEK,QAAAA,MAAM,EAAEiB;AAAV,OAAF,CADH;AAAA,KALZ;AAQC,IAAA,KAAK,EAAGjB,MART;AASC,kBAAaxC,EAAE,CAAE,WAAF,CAThB;AAUC,IAAA,WAAW,EAAGA,EAAE,CAAE,aAAF,CAVjB;AAWC,IAAA,OAAO,EAAGoC,WAXX;AAYC,IAAA,OAAO,EAAG,iBAAEU,KAAF;AAAA,aACT3C,WAAW,CAAE4B,IAAF,kCAAaG,UAAb;AAAyBM,QAAAA,MAAM,EAAEM;AAAjC,SADF;AAAA,KAZX;AAeC,IAAA,uBAAuB,EAAG;AAAA,aACzB3C,WAAW,CAAE,gBAAF,CADc;AAAA,KAf3B;AAkBC,IAAA,SAAS,EAAGkC,SAlBb;AAmBC,IAAA,QAAQ,EAAG;AAAA,aAAMA,SAAS,CAAE,EAAF,CAAf;AAAA,KAnBZ;AAoBC,IAAA,KAAK,EAAGM,KApBT;AAqBC,IAAA,QAAQ,EAAGD,QArBZ;AAsBC,IAAA,IAAI,EAAGD;AAtBR,KAuBMe,UAvBN,GAyBGX,QAzBH,CADD,EA4BGN,OAAO,IACR,cAAC,mBAAD;AACC,IAAA,aAAa,EAAGJ,aADjB;AAEC,IAAA,OAAO,EAAGI,OAFX;AAGC,IAAA,QAAQ,EAAGG,QAHZ;AAIC,IAAA,KAAK,EAAGC;AAJT,IA7BF,CADD;AAuCA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tBlockControls,\n\tRichTextShortcut,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { ToolbarGroup } from '@wordpress/components';\nimport {\n\t__unstableCanIndentListItems as canIndentListItems,\n\t__unstableCanOutdentListItems as canOutdentListItems,\n\t__unstableIndentListItems as indentListItems,\n\t__unstableOutdentListItems as outdentListItems,\n\t__unstableChangeListType as changeListType,\n\t__unstableIsListRootSelected as isListRootSelected,\n\t__unstableIsActiveListType as isActiveListType,\n} from '@wordpress/rich-text';\nimport {\n\tformatListBullets,\n\tformatListBulletsRTL,\n\tformatListNumbered,\n\tformatListNumberedRTL,\n\tformatIndent,\n\tformatIndentRTL,\n\tformatOutdent,\n\tformatOutdentRTL,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { name } from './';\nimport OrderedListSettings from './ordered-list-settings';\n\nexport default function ListEdit( {\n\tattributes,\n\tsetAttributes,\n\tmergeBlocks,\n\tonReplace,\n\tisSelected,\n} ) {\n\tconst { ordered, values, type, reversed, start } = attributes;\n\tconst tagName = ordered ? 'ol' : 'ul';\n\n\tconst controls = ( { value, onChange, onFocus } ) => (\n\t\t<>\n\t\t\t{ isSelected && (\n\t\t\t\t<>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tcharacter=\"[\"\n\t\t\t\t\t\tonUse={ () => {\n\t\t\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tcharacter=\"]\"\n\t\t\t\t\t\tonUse={ () => {\n\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\tindentListItems( value, { type: tagName } )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tcharacter=\"m\"\n\t\t\t\t\t\tonUse={ () => {\n\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\tindentListItems( value, { type: tagName } )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primaryShift\"\n\t\t\t\t\t\tcharacter=\"m\"\n\t\t\t\t\t\tonUse={ () => {\n\t\t\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup\n\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: isRTL()\n\t\t\t\t\t\t\t\t? formatListBulletsRTL\n\t\t\t\t\t\t\t\t: formatListBullets,\n\t\t\t\t\t\t\ttitle: __( 'Unordered' ),\n\t\t\t\t\t\t\tdescribedBy: __( 'Convert to unordered list' ),\n\t\t\t\t\t\t\tisActive: isActiveListType( value, 'ul', tagName ),\n\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\tchangeListType( value, { type: 'ul' } )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonFocus();\n\n\t\t\t\t\t\t\t\tif ( isListRootSelected( value ) ) {\n\t\t\t\t\t\t\t\t\tsetAttributes( { ordered: false } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: isRTL()\n\t\t\t\t\t\t\t\t? formatListNumberedRTL\n\t\t\t\t\t\t\t\t: formatListNumbered,\n\t\t\t\t\t\t\ttitle: __( 'Ordered' ),\n\t\t\t\t\t\t\tdescribedBy: __( 'Convert to ordered list' ),\n\t\t\t\t\t\t\tisActive: isActiveListType( value, 'ol', tagName ),\n\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\tchangeListType( value, { type: 'ol' } )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonFocus();\n\n\t\t\t\t\t\t\t\tif ( isListRootSelected( value ) ) {\n\t\t\t\t\t\t\t\t\tsetAttributes( { ordered: true } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: isRTL() ? formatOutdentRTL : formatOutdent,\n\t\t\t\t\t\t\ttitle: __( 'Outdent' ),\n\t\t\t\t\t\t\tdescribedBy: __( 'Outdent list item' ),\n\t\t\t\t\t\t\tshortcut: _x( 'Backspace', 'keyboard key' ),\n\t\t\t\t\t\t\tisDisabled: ! canOutdentListItems( value ),\n\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t\t\t\t\tonFocus();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ticon: isRTL() ? formatIndentRTL : formatIndent,\n\t\t\t\t\t\t\ttitle: __( 'Indent' ),\n\t\t\t\t\t\t\tdescribedBy: __( 'Indent list item' ),\n\t\t\t\t\t\t\tshortcut: _x( 'Space', 'keyboard key' ),\n\t\t\t\t\t\t\tisDisabled: ! canIndentListItems( value ),\n\t\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\tindentListItems( value, { type: tagName } )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonFocus();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"values\"\n\t\t\t\tmultiline=\"li\"\n\t\t\t\t__unstableMultilineRootTag={ tagName }\n\t\t\t\ttagName={ tagName }\n\t\t\t\tonChange={ ( nextValues ) =>\n\t\t\t\t\tsetAttributes( { values: nextValues } )\n\t\t\t\t}\n\t\t\t\tvalue={ values }\n\t\t\t\taria-label={ __( 'List text' ) }\n\t\t\t\tplaceholder={ __( 'Write list…' ) }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonSplit={ ( value ) =>\n\t\t\t\t\tcreateBlock( name, { ...attributes, values: value } )\n\t\t\t\t}\n\t\t\t\t__unstableOnSplitMiddle={ () =>\n\t\t\t\t\tcreateBlock( 'core/paragraph' )\n\t\t\t\t}\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\tstart={ start }\n\t\t\t\treversed={ reversed }\n\t\t\t\ttype={ type }\n\t\t\t\t{ ...blockProps }\n\t\t\t>\n\t\t\t\t{ controls }\n\t\t\t</RichText>\n\t\t\t{ ordered && (\n\t\t\t\t<OrderedListSettings\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\tordered={ ordered }\n\t\t\t\t\treversed={ reversed }\n\t\t\t\t\tstart={ start }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n"]}