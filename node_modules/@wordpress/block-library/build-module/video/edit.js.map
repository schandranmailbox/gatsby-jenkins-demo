{"version":3,"sources":["@wordpress/block-library/src/video/edit.js"],"names":["getBlobByURL","isBlobURL","BaseControl","Button","Disabled","PanelBody","withNotices","BlockControls","BlockIcon","InspectorControls","MediaPlaceholder","MediaUpload","MediaUploadCheck","MediaReplaceFlow","RichText","useBlockProps","useRef","useEffect","__","sprintf","useInstanceId","useSelect","video","icon","createBlock","createUpgradedEmbedBlock","VideoCommonSettings","TracksEditor","Tracks","ALLOWED_MEDIA_TYPES","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","VideoEdit","isSelected","noticeUI","attributes","setAttributes","insertBlocksAfter","onReplace","noticeOperations","instanceId","videoPlayer","posterImageButton","id","caption","controls","poster","src","tracks","mediaUpload","select","getSettings","file","filesList","onFileChange","url","onError","message","createErrorNotice","allowedTypes","current","load","onSelectVideo","media","undefined","onSelectURL","newSrc","embedBlock","onUploadError","removeAllNotices","blockProps","onSelectPoster","image","onRemovePoster","focus","videoPosterDescription","newTracks","open","isEmpty","value"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getBlobByURL, isBlobURL } from '@wordpress/blob';\nimport {\n\tBaseControl,\n\tButton,\n\tDisabled,\n\tPanelBody,\n\twithNotices,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tMediaReplaceFlow,\n\tRichText,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { useRef, useEffect } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { video as icon } from '@wordpress/icons';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\nimport VideoCommonSettings from './edit-common-settings';\nimport TracksEditor from './tracks-editor';\nimport Tracks from './tracks';\n\nconst ALLOWED_MEDIA_TYPES = [ 'video' ];\nconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nfunction VideoEdit( {\n\tisSelected,\n\tnoticeUI,\n\tattributes,\n\tsetAttributes,\n\tinsertBlocksAfter,\n\tonReplace,\n\tnoticeOperations,\n} ) {\n\tconst instanceId = useInstanceId( VideoEdit );\n\tconst videoPlayer = useRef();\n\tconst posterImageButton = useRef();\n\tconst { id, caption, controls, poster, src, tracks } = attributes;\n\tconst mediaUpload = useSelect(\n\t\t( select ) => select( 'core/block-editor' ).getSettings().mediaUpload\n\t);\n\n\tuseEffect( () => {\n\t\tif ( ! id && isBlobURL( src ) ) {\n\t\t\tconst file = getBlobByURL( src );\n\t\t\tif ( file ) {\n\t\t\t\tmediaUpload( {\n\t\t\t\t\tfilesList: [ file ],\n\t\t\t\t\tonFileChange: ( [ { url } ] ) => {\n\t\t\t\t\t\tsetAttributes( { src: url } );\n\t\t\t\t\t},\n\t\t\t\t\tonError: ( message ) => {\n\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t\t},\n\t\t\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t// Placeholder may be rendered.\n\t\tif ( videoPlayer.current ) {\n\t\t\tvideoPlayer.current.load();\n\t\t}\n\t}, [ poster ] );\n\n\tfunction onSelectVideo( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\t// in this case there was an error\n\t\t\t// previous attributes should be removed\n\t\t\t// because they may be temporary blob urls\n\t\t\tsetAttributes( { src: undefined, id: undefined } );\n\t\t\treturn;\n\t\t}\n\t\t// sets the block's attribute and updates the edit component from the\n\t\t// selected media\n\t\tsetAttributes( { src: media.url, id: media.id } );\n\t}\n\n\tfunction onSelectURL( newSrc ) {\n\t\tif ( newSrc !== src ) {\n\t\t\t// Check if there's an embed block that handles this URL.\n\t\t\tconst embedBlock = createUpgradedEmbedBlock( {\n\t\t\t\tattributes: { url: newSrc },\n\t\t\t} );\n\t\t\tif ( undefined !== embedBlock ) {\n\t\t\t\tonReplace( embedBlock );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetAttributes( { src: newSrc, id: undefined } );\n\t\t}\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tnoticeOperations.removeAllNotices();\n\t\tnoticeOperations.createErrorNotice( message );\n\t}\n\n\tconst blockProps = useBlockProps();\n\n\tif ( ! src ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\tonSelect={ onSelectVideo }\n\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tvalue={ attributes }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction onSelectPoster( image ) {\n\t\tsetAttributes( { poster: image.url } );\n\t}\n\n\tfunction onRemovePoster() {\n\t\tsetAttributes( { poster: '' } );\n\n\t\t// Move focus back to the Media Upload button.\n\t\tthis.posterImageButton.current.focus();\n\t}\n\n\tconst videoPosterDescription = `video-block__poster-image-description-${ instanceId }`;\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<TracksEditor\n\t\t\t\t\ttracks={ tracks }\n\t\t\t\t\tonChange={ ( newTracks ) => {\n\t\t\t\t\t\tsetAttributes( { tracks: newTracks } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ src }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\tonSelect={ onSelectVideo }\n\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Video settings' ) }>\n\t\t\t\t\t<VideoCommonSettings\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t/>\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<BaseControl className=\"editor-video-poster-control\">\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Poster image' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={ __( 'Select poster image' ) }\n\t\t\t\t\t\t\t\tonSelect={ onSelectPoster }\n\t\t\t\t\t\t\t\tallowedTypes={\n\t\t\t\t\t\t\t\t\tVIDEO_POSTER_ALLOWED_MEDIA_TYPES\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\tref={ posterImageButton }\n\t\t\t\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t\t\t\tvideoPosterDescription\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ ! poster\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Select' )\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p id={ videoPosterDescription } hidden>\n\t\t\t\t\t\t\t\t{ poster\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: poster image URL. */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'The current poster image url is %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tposter\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'There is no poster image currently selected'\n\t\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{ !! poster && (\n\t\t\t\t\t\t\t\t<Button onClick={ onRemovePoster } isTertiary>\n\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t{ /*\n\t\t\t\t\tDisable the video tag so the user clicking on it won't play the\n\t\t\t\t\tvideo when the controls are enabled.\n\t\t\t\t*/ }\n\t\t\t\t<Disabled>\n\t\t\t\t\t<video\n\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\tref={ videoPlayer }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tracks tracks={ tracks } />\n\t\t\t\t\t</video>\n\t\t\t\t</Disabled>\n\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\taria-label={ __( 'Video caption text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write captionâ€¦' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter( createBlock( 'core/paragraph' ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t</>\n\t);\n}\n\nexport default withNotices( VideoEdit );\n"]}