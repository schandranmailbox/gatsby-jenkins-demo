{"version":3,"sources":["@wordpress/block-library/src/social-links/edit.js"],"names":["ALLOWED_BLOCKS","sizeOptions","name","value","SocialLinksEdit","props","attributes","iconBackgroundColor","iconColor","setAttributes","setIconBackgroundColor","setIconColor","iconBackgroundColorValue","iconColorValue","openInNewTab","size","logosOnly","className","indexOf","undefined","customIconBackgroundColor","SocialPlaceholder","color","style","blockProps","innerBlocksProps","allowedBlocks","orientation","placeholder","templateLock","__experimentalAppenderTagName","POPOVER_PROPS","position","isAlternate","toggleProps","onClose","map","entry","check","onChange","colorValue","label","textColor","backgroundColor","iconColorAttributes"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\n\nimport { Fragment, useEffect } from '@wordpress/element';\n\nimport {\n\tBlockControls,\n\t__experimentalUseInnerBlocksProps as useInnerBlocksProps,\n\tuseBlockProps,\n\tInspectorControls,\n\tContrastChecker,\n\tPanelColorSettings,\n\twithColors,\n} from '@wordpress/block-editor';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tPanelBody,\n\tToggleControl,\n\tToolbarItem,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\n\nconst ALLOWED_BLOCKS = [ 'core/social-link' ];\n\nconst sizeOptions = [\n\t{ name: __( 'Small' ), value: 'has-small-icon-size' },\n\t{ name: __( 'Normal' ), value: 'has-normal-icon-size' },\n\t{ name: __( 'Large' ), value: 'has-large-icon-size' },\n\t{ name: __( 'Huge' ), value: 'has-huge-icon-size' },\n];\n\nexport function SocialLinksEdit( props ) {\n\tconst {\n\t\tattributes,\n\t\ticonBackgroundColor,\n\t\ticonColor,\n\t\tsetAttributes,\n\t\tsetIconBackgroundColor,\n\t\tsetIconColor,\n\t} = props;\n\n\tconst {\n\t\ticonBackgroundColorValue,\n\t\ticonColorValue,\n\t\topenInNewTab,\n\t\tsize,\n\t} = attributes;\n\n\t// Remove icon background color if logos only style selected.\n\tconst logosOnly =\n\t\tattributes.className?.indexOf( 'is-style-logos-only' ) >= 0;\n\tuseEffect( () => {\n\t\tif ( logosOnly ) {\n\t\t\tsetAttributes( {\n\t\t\t\ticonBackgroundColor: undefined,\n\t\t\t\tcustomIconBackgroundColor: undefined,\n\t\t\t\ticonBackgroundColorValue: undefined,\n\t\t\t} );\n\t\t}\n\t}, [ logosOnly, setAttributes ] );\n\n\tconst SocialPlaceholder = (\n\t\t<div className=\"wp-block-social-links__social-placeholder\">\n\t\t\t<div className=\"wp-social-link\"></div>\n\t\t\t<div className=\"wp-block-social-links__social-placeholder-icons\">\n\t\t\t\t<div className=\"wp-social-link wp-social-link-twitter\"></div>\n\t\t\t\t<div className=\"wp-social-link wp-social-link-facebook\"></div>\n\t\t\t\t<div className=\"wp-social-link wp-social-link-instagram\"></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\t// Fallback color values are used maintain selections in case switching\n\t// themes and named colors in palette do not match.\n\tconst className = classNames( size, {\n\t\t'has-icon-color': iconColor.color || iconColorValue,\n\t\t'has-icon-background-color':\n\t\t\ticonBackgroundColor.color || iconBackgroundColorValue,\n\t} );\n\n\tconst style = {\n\t\t'--wp--social-links--icon-color': iconColor.color || iconColorValue,\n\t\t'--wp--social-links--icon-background-color':\n\t\t\ticonBackgroundColor.color || iconBackgroundColorValue,\n\t};\n\n\tconst blockProps = useBlockProps( { className, style } );\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tallowedBlocks: ALLOWED_BLOCKS,\n\t\torientation: 'horizontal',\n\t\tplaceholder: SocialPlaceholder,\n\t\ttemplateLock: false,\n\t\t__experimentalAppenderTagName: 'li',\n\t} );\n\n\tconst POPOVER_PROPS = {\n\t\tposition: 'bottom right',\n\t\tisAlternate: true,\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarItem>\n\t\t\t\t\t\t{ ( toggleProps ) => (\n\t\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\t\tlabel={ __( 'Size' ) }\n\t\t\t\t\t\t\t\ttext={ __( 'Size' ) }\n\t\t\t\t\t\t\t\ticon={ null }\n\t\t\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t\t\t\ttoggleProps={ toggleProps }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t{ sizeOptions.map( ( entry ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( size ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( ! size &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'has-normal-icon-size' ) ) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheck\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize === entry.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ entry.value }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize: entry.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"menuitemradio\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ entry.name }\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ToolbarItem>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Link settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Open links in new tab' ) }\n\t\t\t\t\t\tchecked={ openInNewTab }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( { openInNewTab: ! openInNewTab } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelColorSettings\n\t\t\t\t\ttitle={ __( 'Color settings' ) }\n\t\t\t\t\tcolorSettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Use custom attribute as fallback to prevent loss of named color selection when\n\t\t\t\t\t\t\t// switching themes to a new theme that does not have a matching named color.\n\t\t\t\t\t\t\tvalue: iconColor.color || iconColorValue,\n\t\t\t\t\t\t\tonChange: ( colorValue ) => {\n\t\t\t\t\t\t\t\tsetIconColor( colorValue );\n\t\t\t\t\t\t\t\t// Set explicit color value used to add CSS variable in save.js\n\t\t\t\t\t\t\t\tsetAttributes( { iconColorValue: colorValue } );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: __( 'Icon color' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t! logosOnly && {\n\t\t\t\t\t\t\t// Use custom attribute as fallback to prevent loss of named color selection when\n\t\t\t\t\t\t\t// switching themes to a new theme that does not have a matching named color.\n\t\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\t\ticonBackgroundColor.color ||\n\t\t\t\t\t\t\t\ticonBackgroundColorValue,\n\t\t\t\t\t\t\tonChange: ( colorValue ) => {\n\t\t\t\t\t\t\t\tsetIconBackgroundColor( colorValue );\n\t\t\t\t\t\t\t\t// Set explicit color value used to add CSS variable in save.js\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\ticonBackgroundColorValue: colorValue,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: __( 'Icon background color' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t\t{ ! logosOnly && (\n\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\ttextColor: iconColorValue,\n\t\t\t\t\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisLargeText={ false }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t\t<ul { ...innerBlocksProps } />\n\t\t</Fragment>\n\t);\n}\n\nconst iconColorAttributes = {\n\ticonColor: 'icon-color',\n\ticonBackgroundColor: 'icon-background-color',\n};\n\nexport default withColors( iconColorAttributes )( SocialLinksEdit );\n"]}