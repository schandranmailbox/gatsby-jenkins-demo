{"version":3,"sources":["@wordpress/block-library/src/calendar/edit.js"],"names":["getYearMonth","date","momentDate","year","month","CalendarEdit","attributes","select","getEditedPostAttribute","postType","undefined"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AAKA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,YAAY,GAAG,qBAAS,UAAEC,IAAF,EAAY;AACzC,MAAK,CAAEA,IAAP,EAAc;AACb,WAAO,EAAP;AACA;;AACD,MAAMC,UAAU,GAAG,qBAAQD,IAAR,CAAnB;AACA,SAAO;AACNE,IAAAA,IAAI,EAAED,UAAU,CAACC,IAAX,EADA;AAENC,IAAAA,KAAK,EAAEF,UAAU,CAACE,KAAX,KAAqB;AAFtB,GAAP;AAIA,CAToB,CAArB;;AAWe,SAASC,YAAT,OAAwC;AAAA,MAAfC,UAAe,QAAfA,UAAe;AACtD,MAAML,IAAI,GAAG,qBAAW,UAAEM,MAAF,EAAc;AAAA,kBACFA,MAAM,CAAE,aAAF,CADJ;AAAA,QAC7BC,sBAD6B,WAC7BA,sBAD6B;;AAGrC,QAAMC,QAAQ,GAAGD,sBAAsB,CAAE,MAAF,CAAvC,CAHqC,CAIrC;AACA;AACA;;AACA,WAAOC,QAAQ,KAAK,MAAb,GACJD,sBAAsB,CAAE,MAAF,CADlB,GAEJE,SAFH;AAGA,GAVY,EAUV,EAVU,CAAb;AAYA,SACC,mCAAU,iCAAV,EACC,4BAAC,oBAAD,QACC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAC,eADP;AAEC,IAAA,UAAU,kCAAQJ,UAAR,GAAuBN,YAAY,CAAEC,IAAF,CAAnC;AAFX,IADD,CADD,CADD;AAUA","sourcesContent":["/**\n * External dependencies\n */\nimport moment from 'moment';\nimport memoize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { Disabled } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport ServerSideRender from '@wordpress/server-side-render';\nimport { useBlockProps } from '@wordpress/block-editor';\n\nconst getYearMonth = memoize( ( date ) => {\n\tif ( ! date ) {\n\t\treturn {};\n\t}\n\tconst momentDate = moment( date );\n\treturn {\n\t\tyear: momentDate.year(),\n\t\tmonth: momentDate.month() + 1,\n\t};\n} );\n\nexport default function CalendarEdit( { attributes } ) {\n\tconst date = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\n\t\tconst postType = getEditedPostAttribute( 'type' );\n\t\t// Dates are used to overwrite year and month used on the calendar.\n\t\t// This overwrite should only happen for 'post' post types.\n\t\t// For other post types the calendar always displays the current month.\n\t\treturn postType === 'post'\n\t\t\t? getEditedPostAttribute( 'date' )\n\t\t\t: undefined;\n\t}, [] );\n\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender\n\t\t\t\t\tblock=\"core/calendar\"\n\t\t\t\t\tattributes={ { ...attributes, ...getYearMonth( date ) } }\n\t\t\t\t/>\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n"]}