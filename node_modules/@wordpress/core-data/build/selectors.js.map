{"version":3,"sources":["@wordpress/core-data/src/selectors.js"],"names":["EMPTY_ARRAY","isRequestingEmbedPreview","select","state","url","isResolving","STORE_NAME","getAuthors","query","path","getUserQueryResults","__unstableGetAuthor","id","getCurrentUser","currentUser","queryID","queryResults","users","queries","byId","getEntitiesByKind","kind","entities","config","getEntity","name","getEntityRecord","key","queriedState","data","undefined","itemIsComplete","items","item","_fields","filteredItem","fields","f","length","field","split","value","__experimentalGetEntityRecordNoResolver","getRawEntityRecord","record","Object","keys","reduce","accumulator","_key","hasEntityRecords","Array","isArray","getEntityRecords","__experimentalGetDirtyEntityRecords","dirtyRecords","forEach","primaryKeys","edits","filter","primaryKey","hasEditsForEntityRecord","entity","entityRecord","getEditedEntityRecord","push","DEFAULT_ENTITY_KEY","title","getTitle","getEntityRecordEdits","recordId","getEntityRecordNonTransientEdits","transientEdits","acc","isSavingEntityRecord","isAutosavingEntityRecord","pending","isAutosave","Boolean","isDeletingEntityRecord","getLastEntitySaveError","getLastEntityDeleteError","getCurrentUndoOffset","undo","offset","getUndoEdit","getRedoEdit","hasUndo","hasRedo","getCurrentTheme","themes","currentTheme","getThemeSupports","themeSupports","getEmbedPreview","embedPreviews","isPreviewEmbedFallback","preview","oEmbedLinkCheck","html","hasUploadPermissions","alternative","canUser","action","resource","join","getAutosaves","postType","postId","autosaves","getAutosave","authorId","author","hasFetchedAutosaves","hasFinishedResolution","getReferenceByDistinctEdits","flattenedUndo","__experimentalGetTemplateForLink","link","records"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport { set, map, find, get, filter, compact, defaultTo } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME } from './name';\nimport { getQueriedItems } from './queried-data';\nimport { DEFAULT_ENTITY_KEY } from './entities';\nimport { getNormalizedCommaSeparable } from './utils';\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n *\n * @type {Array}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Returns true if a request is in progress for embed preview data, or false\n * otherwise.\n *\n * @param {Object} state Data state.\n * @param {string} url   URL the preview would be for.\n *\n * @return {boolean} Whether a request is in progress for an embed preview.\n */\nexport const isRequestingEmbedPreview = createRegistrySelector(\n\t( select ) => ( state, url ) => {\n\t\treturn select( 'core/data' ).isResolving(\n\t\t\tSTORE_NAME,\n\t\t\t'getEmbedPreview',\n\t\t\t[ url ]\n\t\t);\n\t}\n);\n\n/**\n * Returns all available authors.\n *\n * @param {Object}           state Data state.\n * @param {Object|undefined} query Optional object of query parameters to\n *                                 include with request.\n * @return {Array} Authors list.\n */\nexport function getAuthors( state, query ) {\n\tconst path = addQueryArgs(\n\t\t'/wp/v2/users/?who=authors&per_page=100',\n\t\tquery\n\t);\n\treturn getUserQueryResults( state, path );\n}\n\n/**\n * Returns all available authors.\n *\n * @param {Object} state Data state.\n * @param {number} id The author id.\n *\n * @return {Array} Authors list.\n */\nexport function __unstableGetAuthor( state, id ) {\n\treturn get( state, [ 'users', 'byId', id ], null );\n}\n\n/**\n * Returns the current user.\n *\n * @param {Object} state Data state.\n *\n * @return {Object} Current user object.\n */\nexport function getCurrentUser( state ) {\n\treturn state.currentUser;\n}\n\n/**\n * Returns all the users returned by a query ID.\n *\n * @param {Object} state   Data state.\n * @param {string} queryID Query ID.\n *\n * @return {Array} Users list.\n */\nexport const getUserQueryResults = createSelector(\n\t( state, queryID ) => {\n\t\tconst queryResults = state.users.queries[ queryID ];\n\n\t\treturn map( queryResults, ( id ) => state.users.byId[ id ] );\n\t},\n\t( state, queryID ) => [ state.users.queries[ queryID ], state.users.byId ]\n);\n\n/**\n * Returns whether the entities for the give kind are loaded.\n *\n * @param {Object} state   Data state.\n * @param {string} kind  Entity kind.\n *\n * @return {boolean} Whether the entities are loaded\n */\nexport function getEntitiesByKind( state, kind ) {\n\treturn filter( state.entities.config, { kind } );\n}\n\n/**\n * Returns the entity object given its kind and name.\n *\n * @param {Object} state   Data state.\n * @param {string} kind  Entity kind.\n * @param {string} name  Entity name.\n *\n * @return {Object} Entity\n */\nexport function getEntity( state, kind, name ) {\n\treturn find( state.entities.config, { kind, name } );\n}\n\n/**\n * Returns the Entity's record object by key. Returns `null` if the value is not\n * yet received, undefined if the value entity is known to not exist, or the\n * entity object if it exists and is received.\n *\n * @param {Object}  state State tree\n * @param {string}  kind  Entity kind.\n * @param {string}  name  Entity name.\n * @param {number}  key   Record's key\n * @param {?Object} query Optional query.\n *\n * @return {Object?} Record.\n */\nexport function getEntityRecord( state, kind, name, key, query ) {\n\tconst queriedState = get( state.entities.data, [\n\t\tkind,\n\t\tname,\n\t\t'queriedData',\n\t] );\n\tif ( ! queriedState ) {\n\t\treturn undefined;\n\t}\n\n\tif ( query === undefined ) {\n\t\t// If expecting a complete item, validate that completeness.\n\t\tif ( ! queriedState.itemIsComplete[ key ] ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn queriedState.items[ key ];\n\t}\n\n\tconst item = queriedState.items[ key ];\n\tif ( item && query._fields ) {\n\t\tconst filteredItem = {};\n\t\tconst fields = getNormalizedCommaSeparable( query._fields );\n\t\tfor ( let f = 0; f < fields.length; f++ ) {\n\t\t\tconst field = fields[ f ].split( '.' );\n\t\t\tconst value = get( item, field );\n\t\t\tset( filteredItem, field, value );\n\t\t}\n\t\treturn filteredItem;\n\t}\n\n\treturn item;\n}\n\n/**\n * Returns the Entity's record object by key. Doesn't trigger a resolver nor requests the entity from the API if the entity record isn't available in the local state.\n *\n * @param {Object} state  State tree\n * @param {string} kind   Entity kind.\n * @param {string} name   Entity name.\n * @param {number} key    Record's key\n *\n * @return {Object|null} Record.\n */\nexport function __experimentalGetEntityRecordNoResolver(\n\tstate,\n\tkind,\n\tname,\n\tkey\n) {\n\treturn getEntityRecord( state, kind, name, key );\n}\n\n/**\n * Returns the entity's record object by key,\n * with its attributes mapped to their raw values.\n *\n * @param {Object} state  State tree.\n * @param {string} kind   Entity kind.\n * @param {string} name   Entity name.\n * @param {number} key    Record's key.\n *\n * @return {Object?} Object with the entity's raw attributes.\n */\nexport const getRawEntityRecord = createSelector(\n\t( state, kind, name, key ) => {\n\t\tconst record = getEntityRecord( state, kind, name, key );\n\t\treturn (\n\t\t\trecord &&\n\t\t\tObject.keys( record ).reduce( ( accumulator, _key ) => {\n\t\t\t\t// Because edits are the \"raw\" attribute values,\n\t\t\t\t// we return those from record selectors to make rendering,\n\t\t\t\t// comparisons, and joins with edits easier.\n\t\t\t\taccumulator[ _key ] = get(\n\t\t\t\t\trecord[ _key ],\n\t\t\t\t\t'raw',\n\t\t\t\t\trecord[ _key ]\n\t\t\t\t);\n\t\t\t\treturn accumulator;\n\t\t\t}, {} )\n\t\t);\n\t},\n\t( state ) => [ state.entities.data ]\n);\n\n/**\n * Returns true if records have been received for the given set of parameters,\n * or false otherwise.\n *\n * @param {Object}  state State tree\n * @param {string}  kind  Entity kind.\n * @param {string}  name  Entity name.\n * @param {?Object} query Optional terms query.\n *\n * @return {boolean} Whether entity records have been received.\n */\nexport function hasEntityRecords( state, kind, name, query ) {\n\treturn Array.isArray( getEntityRecords( state, kind, name, query ) );\n}\n\n/**\n * Returns the Entity's records.\n *\n * @param {Object}  state State tree\n * @param {string}  kind  Entity kind.\n * @param {string}  name  Entity name.\n * @param {?Object} query Optional terms query.\n *\n * @return {?Array} Records.\n */\nexport function getEntityRecords( state, kind, name, query ) {\n\t// Queried data state is prepopulated for all known entities. If this is not\n\t// assigned for the given parameters, then it is known to not exist. Thus, a\n\t// return value of an empty array is used instead of `null` (where `null` is\n\t// otherwise used to represent an unknown state).\n\tconst queriedState = get( state.entities.data, [\n\t\tkind,\n\t\tname,\n\t\t'queriedData',\n\t] );\n\tif ( ! queriedState ) {\n\t\treturn EMPTY_ARRAY;\n\t}\n\treturn getQueriedItems( queriedState, query );\n}\n\n/**\n * Returns the  list of dirty entity records.\n *\n * @param {Object} state State tree.\n *\n * @return {[{ title: string, key: string, name: string, kind: string }]} The list of updated records\n */\nexport const __experimentalGetDirtyEntityRecords = createSelector(\n\t( state ) => {\n\t\tconst {\n\t\t\tentities: { data },\n\t\t} = state;\n\t\tconst dirtyRecords = [];\n\t\tObject.keys( data ).forEach( ( kind ) => {\n\t\t\tObject.keys( data[ kind ] ).forEach( ( name ) => {\n\t\t\t\tconst primaryKeys = Object.keys(\n\t\t\t\t\tdata[ kind ][ name ].edits\n\t\t\t\t).filter( ( primaryKey ) =>\n\t\t\t\t\thasEditsForEntityRecord( state, kind, name, primaryKey )\n\t\t\t\t);\n\n\t\t\t\tif ( primaryKeys.length ) {\n\t\t\t\t\tconst entity = getEntity( state, kind, name );\n\t\t\t\t\tprimaryKeys.forEach( ( primaryKey ) => {\n\t\t\t\t\t\tconst entityRecord = getEditedEntityRecord(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tprimaryKey\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdirtyRecords.push( {\n\t\t\t\t\t\t\t// We avoid using primaryKey because it's transformed into a string\n\t\t\t\t\t\t\t// when it's used as an object key.\n\t\t\t\t\t\t\tkey:\n\t\t\t\t\t\t\t\tentityRecord[\n\t\t\t\t\t\t\t\t\tentity.key || DEFAULT_ENTITY_KEY\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\ttitle: entity?.getTitle?.( entityRecord ) || '',\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\treturn dirtyRecords;\n\t},\n\t( state ) => [ state.entities.data ]\n);\n\n/**\n * Returns the specified entity record's edits.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {Object?} The entity record's edits.\n */\nexport function getEntityRecordEdits( state, kind, name, recordId ) {\n\treturn get( state.entities.data, [ kind, name, 'edits', recordId ] );\n}\n\n/**\n * Returns the specified entity record's non transient edits.\n *\n * Transient edits don't create an undo level, and\n * are not considered for change detection.\n * They are defined in the entity's config.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {Object?} The entity record's non transient edits.\n */\nexport const getEntityRecordNonTransientEdits = createSelector(\n\t( state, kind, name, recordId ) => {\n\t\tconst { transientEdits } = getEntity( state, kind, name ) || {};\n\t\tconst edits = getEntityRecordEdits( state, kind, name, recordId ) || {};\n\t\tif ( ! transientEdits ) {\n\t\t\treturn edits;\n\t\t}\n\t\treturn Object.keys( edits ).reduce( ( acc, key ) => {\n\t\t\tif ( ! transientEdits[ key ] ) {\n\t\t\t\tacc[ key ] = edits[ key ];\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, {} );\n\t},\n\t( state ) => [ state.entities.config, state.entities.data ]\n);\n\n/**\n * Returns true if the specified entity record has edits,\n * and false otherwise.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {boolean} Whether the entity record has edits or not.\n */\nexport function hasEditsForEntityRecord( state, kind, name, recordId ) {\n\treturn (\n\t\tisSavingEntityRecord( state, kind, name, recordId ) ||\n\t\tObject.keys(\n\t\t\tgetEntityRecordNonTransientEdits( state, kind, name, recordId )\n\t\t).length > 0\n\t);\n}\n\n/**\n * Returns the specified entity record, merged with its edits.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {Object?} The entity record, merged with its edits.\n */\nexport const getEditedEntityRecord = createSelector(\n\t( state, kind, name, recordId ) => ( {\n\t\t...getRawEntityRecord( state, kind, name, recordId ),\n\t\t...getEntityRecordEdits( state, kind, name, recordId ),\n\t} ),\n\t( state ) => [ state.entities.data ]\n);\n\n/**\n * Returns true if the specified entity record is autosaving, and false otherwise.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {boolean} Whether the entity record is autosaving or not.\n */\nexport function isAutosavingEntityRecord( state, kind, name, recordId ) {\n\tconst { pending, isAutosave } = get(\n\t\tstate.entities.data,\n\t\t[ kind, name, 'saving', recordId ],\n\t\t{}\n\t);\n\treturn Boolean( pending && isAutosave );\n}\n\n/**\n * Returns true if the specified entity record is saving, and false otherwise.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {boolean} Whether the entity record is saving or not.\n */\nexport function isSavingEntityRecord( state, kind, name, recordId ) {\n\treturn get(\n\t\tstate.entities.data,\n\t\t[ kind, name, 'saving', recordId, 'pending' ],\n\t\tfalse\n\t);\n}\n\n/**\n * Returns true if the specified entity record is deleting, and false otherwise.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {boolean} Whether the entity record is deleting or not.\n */\nexport function isDeletingEntityRecord( state, kind, name, recordId ) {\n\treturn get(\n\t\tstate.entities.data,\n\t\t[ kind, name, 'deleting', recordId, 'pending' ],\n\t\tfalse\n\t);\n}\n\n/**\n * Returns the specified entity record's last save error.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {Object?} The entity record's save error.\n */\nexport function getLastEntitySaveError( state, kind, name, recordId ) {\n\treturn get( state.entities.data, [\n\t\tkind,\n\t\tname,\n\t\t'saving',\n\t\trecordId,\n\t\t'error',\n\t] );\n}\n\n/**\n * Returns the specified entity record's last delete error.\n *\n * @param {Object} state    State tree.\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {number} recordId Record ID.\n *\n * @return {Object?} The entity record's save error.\n */\nexport function getLastEntityDeleteError( state, kind, name, recordId ) {\n\treturn get( state.entities.data, [\n\t\tkind,\n\t\tname,\n\t\t'deleting',\n\t\trecordId,\n\t\t'error',\n\t] );\n}\n\n/**\n * Returns the current undo offset for the\n * entity records edits history. The offset\n * represents how many items from the end\n * of the history stack we are at. 0 is the\n * last edit, -1 is the second last, and so on.\n *\n * @param {Object} state State tree.\n *\n * @return {number} The current undo offset.\n */\nfunction getCurrentUndoOffset( state ) {\n\treturn state.undo.offset;\n}\n\n/**\n * Returns the previous edit from the current undo offset\n * for the entity records edits history, if any.\n *\n * @param {Object} state State tree.\n *\n * @return {Object?} The edit.\n */\nexport function getUndoEdit( state ) {\n\treturn state.undo[ state.undo.length - 2 + getCurrentUndoOffset( state ) ];\n}\n\n/**\n * Returns the next edit from the current undo offset\n * for the entity records edits history, if any.\n *\n * @param {Object} state State tree.\n *\n * @return {Object?} The edit.\n */\nexport function getRedoEdit( state ) {\n\treturn state.undo[ state.undo.length + getCurrentUndoOffset( state ) ];\n}\n\n/**\n * Returns true if there is a previous edit from the current undo offset\n * for the entity records edits history, and false otherwise.\n *\n * @param {Object} state State tree.\n *\n * @return {boolean} Whether there is a previous edit or not.\n */\nexport function hasUndo( state ) {\n\treturn Boolean( getUndoEdit( state ) );\n}\n\n/**\n * Returns true if there is a next edit from the current undo offset\n * for the entity records edits history, and false otherwise.\n *\n * @param {Object} state State tree.\n *\n * @return {boolean} Whether there is a next edit or not.\n */\nexport function hasRedo( state ) {\n\treturn Boolean( getRedoEdit( state ) );\n}\n\n/**\n * Return the current theme.\n *\n * @param {Object} state Data state.\n *\n * @return {Object}      The current theme.\n */\nexport function getCurrentTheme( state ) {\n\treturn state.themes[ state.currentTheme ];\n}\n\n/**\n * Return theme supports data in the index.\n *\n * @param {Object} state Data state.\n *\n * @return {*}           Index data.\n */\nexport function getThemeSupports( state ) {\n\treturn state.themeSupports;\n}\n\n/**\n * Returns the embed preview for the given URL.\n *\n * @param {Object} state    Data state.\n * @param {string} url      Embedded URL.\n *\n * @return {*} Undefined if the preview has not been fetched, otherwise, the preview fetched from the embed preview API.\n */\nexport function getEmbedPreview( state, url ) {\n\treturn state.embedPreviews[ url ];\n}\n\n/**\n * Determines if the returned preview is an oEmbed link fallback.\n *\n * WordPress can be configured to return a simple link to a URL if it is not embeddable.\n * We need to be able to determine if a URL is embeddable or not, based on what we\n * get back from the oEmbed preview API.\n *\n * @param {Object} state    Data state.\n * @param {string} url      Embedded URL.\n *\n * @return {boolean} Is the preview for the URL an oEmbed link fallback.\n */\nexport function isPreviewEmbedFallback( state, url ) {\n\tconst preview = state.embedPreviews[ url ];\n\tconst oEmbedLinkCheck = '<a href=\"' + url + '\">' + url + '</a>';\n\tif ( ! preview ) {\n\t\treturn false;\n\t}\n\treturn preview.html === oEmbedLinkCheck;\n}\n\n/**\n * Returns whether the current user can upload media.\n *\n * Calling this may trigger an OPTIONS request to the REST API via the\n * `canUser()` resolver.\n *\n * https://developer.wordpress.org/rest-api/reference/\n *\n * @deprecated since 5.0. Callers should use the more generic `canUser()` selector instead of\n *             `hasUploadPermissions()`, e.g. `canUser( 'create', 'media' )`.\n *\n * @param {Object} state Data state.\n *\n * @return {boolean} Whether or not the user can upload media. Defaults to `true` if the OPTIONS\n *                   request is being made.\n */\nexport function hasUploadPermissions( state ) {\n\tdeprecated( \"select( 'core' ).hasUploadPermissions()\", {\n\t\talternative: \"select( 'core' ).canUser( 'create', 'media' )\",\n\t} );\n\treturn defaultTo( canUser( state, 'create', 'media' ), true );\n}\n\n/**\n * Returns whether the current user can perform the given action on the given\n * REST resource.\n *\n * Calling this may trigger an OPTIONS request to the REST API via the\n * `canUser()` resolver.\n *\n * https://developer.wordpress.org/rest-api/reference/\n *\n * @param {Object}   state            Data state.\n * @param {string}   action           Action to check. One of: 'create', 'read', 'update', 'delete'.\n * @param {string}   resource         REST resource to check, e.g. 'media' or 'posts'.\n * @param {string=}  id               Optional ID of the rest resource to check.\n *\n * @return {boolean|undefined} Whether or not the user can perform the action,\n *                             or `undefined` if the OPTIONS request is still being made.\n */\nexport function canUser( state, action, resource, id ) {\n\tconst key = compact( [ action, resource, id ] ).join( '/' );\n\treturn get( state, [ 'userPermissions', key ] );\n}\n\n/**\n * Returns the latest autosaves for the post.\n *\n * May return multiple autosaves since the backend stores one autosave per\n * author for each post.\n *\n * @param {Object} state    State tree.\n * @param {string} postType The type of the parent post.\n * @param {number} postId   The id of the parent post.\n *\n * @return {?Array} An array of autosaves for the post, or undefined if there is none.\n */\nexport function getAutosaves( state, postType, postId ) {\n\treturn state.autosaves[ postId ];\n}\n\n/**\n * Returns the autosave for the post and author.\n *\n * @param {Object} state    State tree.\n * @param {string} postType The type of the parent post.\n * @param {number} postId   The id of the parent post.\n * @param {number} authorId The id of the author.\n *\n * @return {?Object} The autosave for the post and author.\n */\nexport function getAutosave( state, postType, postId, authorId ) {\n\tif ( authorId === undefined ) {\n\t\treturn;\n\t}\n\n\tconst autosaves = state.autosaves[ postId ];\n\treturn find( autosaves, { author: authorId } );\n}\n\n/**\n * Returns true if the REST request for autosaves has completed.\n *\n * @param {Object} state State tree.\n * @param {string} postType The type of the parent post.\n * @param {number} postId   The id of the parent post.\n *\n * @return {boolean} True if the REST request was completed. False otherwise.\n */\nexport const hasFetchedAutosaves = createRegistrySelector(\n\t( select ) => ( state, postType, postId ) => {\n\t\treturn select( STORE_NAME ).hasFinishedResolution( 'getAutosaves', [\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t] );\n\t}\n);\n\n/**\n * Returns a new reference when edited values have changed. This is useful in\n * inferring where an edit has been made between states by comparison of the\n * return values using strict equality.\n *\n * @example\n *\n * ```\n * const hasEditOccurred = (\n *    getReferenceByDistinctEdits( beforeState ) !==\n *    getReferenceByDistinctEdits( afterState )\n * );\n * ```\n *\n * @param {Object} state Editor state.\n *\n * @return {*} A value whose reference will change only when an edit occurs.\n */\nexport const getReferenceByDistinctEdits = createSelector(\n\t() => [],\n\t( state ) => [\n\t\tstate.undo.length,\n\t\tstate.undo.offset,\n\t\tstate.undo.flattenedUndo,\n\t]\n);\n\n/**\n * Retrieve the frontend template used for a given link.\n *\n * @param {Object} state Editor state.\n * @param {string} link  Link.\n *\n * @return {Object?} The template record.\n */\nexport function __experimentalGetTemplateForLink( state, link ) {\n\tconst records = getEntityRecords( state, 'postType', 'wp_template', {\n\t\t'find-template': link,\n\t} );\n\n\treturn records?.length ? records[ 0 ] : null;\n}\n"]}