{"version":3,"sources":["@wordpress/core-data/src/index.js"],"names":["createReduxStore","register","controls","reducer","selectors","actions","resolvers","locksSelectors","locksActions","customControls","defaultEntities","getMethodName","STORE_NAME","entitySelectors","reduce","result","entity","kind","name","state","key","getEntityRecord","args","getEntityRecords","entityResolvers","pluralMethodName","shouldInvalidate","action","entityActions","saveEntityRecord","query","deleteEntityRecord","storeConfig","store","default","EntityProvider"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\nimport { controls } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as resolvers from './resolvers';\nimport * as locksSelectors from './locks/selectors';\nimport * as locksActions from './locks/actions';\nimport customControls from './controls';\nimport { defaultEntities, getMethodName } from './entities';\nimport { STORE_NAME } from './name';\n\n// The entity selectors/resolvers and actions are shortcuts to their generic equivalents\n// (getEntityRecord, getEntityRecords, updateEntityRecord, updateEntityRecordss)\n// Instead of getEntityRecord, the consumer could use more user-frieldly named selector: getPostType, getTaxonomy...\n// The \"kind\" and the \"name\" of the entity are combined to generate these shortcuts.\n\nconst entitySelectors = defaultEntities.reduce( ( result, entity ) => {\n\tconst { kind, name } = entity;\n\tresult[ getMethodName( kind, name ) ] = ( state, key ) =>\n\t\tselectors.getEntityRecord( state, kind, name, key );\n\tresult[ getMethodName( kind, name, 'get', true ) ] = ( state, ...args ) =>\n\t\tselectors.getEntityRecords( state, kind, name, ...args );\n\treturn result;\n}, {} );\n\nconst entityResolvers = defaultEntities.reduce( ( result, entity ) => {\n\tconst { kind, name } = entity;\n\tresult[ getMethodName( kind, name ) ] = ( key ) =>\n\t\tresolvers.getEntityRecord( kind, name, key );\n\tconst pluralMethodName = getMethodName( kind, name, 'get', true );\n\tresult[ pluralMethodName ] = ( ...args ) =>\n\t\tresolvers.getEntityRecords( kind, name, ...args );\n\tresult[ pluralMethodName ].shouldInvalidate = ( action, ...args ) =>\n\t\tresolvers.getEntityRecords.shouldInvalidate(\n\t\t\taction,\n\t\t\tkind,\n\t\t\tname,\n\t\t\t...args\n\t\t);\n\treturn result;\n}, {} );\n\nconst entityActions = defaultEntities.reduce( ( result, entity ) => {\n\tconst { kind, name } = entity;\n\tresult[ getMethodName( kind, name, 'save' ) ] = ( key ) =>\n\t\tactions.saveEntityRecord( kind, name, key );\n\tresult[ getMethodName( kind, name, 'delete' ) ] = ( key, query ) =>\n\t\tactions.deleteEntityRecord( kind, name, key, query );\n\treturn result;\n}, {} );\n\nconst storeConfig = {\n\treducer,\n\tcontrols: { ...customControls, ...controls },\n\tactions: { ...actions, ...entityActions, ...locksActions },\n\tselectors: { ...selectors, ...entitySelectors, ...locksSelectors },\n\tresolvers: { ...resolvers, ...entityResolvers },\n};\n\n/**\n * Store definition for the code data namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\nregister( store );\n\nexport { default as EntityProvider } from './entity-provider';\nexport * from './entity-provider';\n"]}